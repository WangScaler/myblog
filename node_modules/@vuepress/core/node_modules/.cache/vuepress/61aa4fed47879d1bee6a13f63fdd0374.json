{"remainingRequest":"D:\\mygithub\\myblog\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\mygithub\\myblog\\node_modules\\vuepress-plugin-ribbon-animation\\bin\\ribbon.js","dependencies":[{"path":"D:\\mygithub\\myblog\\node_modules\\vuepress-plugin-ribbon-animation\\bin\\ribbon.js","mtime":499162500000},{"path":"D:\\mygithub\\myblog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mygithub\\myblog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmlzLWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5iaW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICJEOi9teWdpdGh1Yi9teWJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CgovKioNCiAqIFJpYmJvbnMgQ2xhc3MgRmlsZS4NCiAqIENyZWF0ZXMgbG93LXBvbHkgcmliYm9ucyBiYWNrZ3JvdW5kIGVmZmVjdCBpbnNpZGUgYSB0YXJnZXQgY29udGFpbmVyLg0KICovCihmdW5jdGlvbiAobmFtZSwgZmFjdG9yeSkgewogIGlmICgodHlwZW9mIHdpbmRvdyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2Yod2luZG93KSkgPT09ICJvYmplY3QiKSB7CiAgICB3aW5kb3dbbmFtZV0gPSBmYWN0b3J5KCk7CiAgfQp9KSgiUmliYm9ucyIsIGZ1bmN0aW9uICgpIHsKICB2YXIgX3cgPSB3aW5kb3csCiAgICAgIF9iID0gZG9jdW1lbnQuYm9keSwKICAgICAgLy/ov5Tlm55odG1sIGRvbeS4reeahGJvZHnoioLngrkg5Y2zPGJvZHk+CiAgX2QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IC8v6L+U5ZueaHRtbCBkb23kuK3nmoRyb290IOiKgueCuSDljbM8aHRtbD4KICAvLyByYW5kb20gaGVscGVyCgogIHZhciByYW5kb20gPSBmdW5jdGlvbiByYW5kb20oKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgLy8gb25seSAxIGFyZ3VtZW50CiAgICAgIHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKSAvLyBleHRyYWN0IGluZGV4IGZyb20gYXJyYXkKICAgICAgICAgIHsKICAgICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5yb3VuZChyYW5kb20oMCwgYXJndW1lbnRzWzBdLmxlbmd0aCAtIDEpKTsKICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXVtpbmRleF07CiAgICAgICAgICB9CgogICAgICAgIHJldHVybiByYW5kb20oMCwgYXJndW1lbnRzWzBdKTsgLy8gYXNzdW1lIG51bWVyaWMKICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSAvLyB0d28gYXJndW1lbnRzIHJhbmdlCiAgICAgIHsKICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChhcmd1bWVudHNbMV0gLSBhcmd1bWVudHNbMF0pICsgYXJndW1lbnRzWzBdOwogICAgICB9CgogICAgcmV0dXJuIDA7IC8vIGRlZmF1bHQKICB9OyAvLyBzY3JlZW4gaGVscGVyCgoKICB2YXIgc2NyZWVuSW5mbyA9IGZ1bmN0aW9uIHNjcmVlbkluZm8oZSkgewogICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoMCwgX3cuaW5uZXJXaWR0aCB8fCBfZC5jbGllbnRXaWR0aCB8fCBfYi5jbGllbnRXaWR0aCB8fCAwKSwKICAgICAgICBoZWlnaHQgPSBNYXRoLm1heCgwLCBfdy5pbm5lckhlaWdodCB8fCBfZC5jbGllbnRIZWlnaHQgfHwgX2IuY2xpZW50SGVpZ2h0IHx8IDApLAogICAgICAgIHNjcm9sbHggPSBNYXRoLm1heCgwLCBfdy5wYWdlWE9mZnNldCB8fCBfZC5zY3JvbGxMZWZ0IHx8IF9iLnNjcm9sbExlZnQgfHwgMCkgLSAoX2QuY2xpZW50TGVmdCB8fCAwKSwKICAgICAgICBzY3JvbGx5ID0gTWF0aC5tYXgoMCwgX3cucGFnZVlPZmZzZXQgfHwgX2Quc2Nyb2xsVG9wIHx8IF9iLnNjcm9sbFRvcCB8fCAwKSAtIChfZC5jbGllbnRUb3AgfHwgMCk7CiAgICByZXR1cm4gewogICAgICB3aWR0aDogd2lkdGgsCiAgICAgIGhlaWdodDogaGVpZ2h0LAogICAgICByYXRpbzogd2lkdGggLyBoZWlnaHQsCiAgICAgIGNlbnRlcng6IHdpZHRoIC8gMiwKICAgICAgY2VudGVyeTogaGVpZ2h0IC8gMiwKICAgICAgc2Nyb2xseDogc2Nyb2xseCwKICAgICAgc2Nyb2xseTogc2Nyb2xseQogICAgfTsKICB9OyAvLyBtb3VzZS9pbnB1dCBoZWxwZXIKCgogIHZhciBtb3VzZUluZm8gPSBmdW5jdGlvbiBtb3VzZUluZm8oZSkgewogICAgdmFyIHNjcmVlbiA9IHNjcmVlbkluZm8oZSksCiAgICAgICAgbW91c2V4ID0gZSA/IE1hdGgubWF4KDAsIGUucGFnZVggfHwgZS5jbGllbnRYIHx8IDApIDogMCwKICAgICAgICBtb3VzZXkgPSBlID8gTWF0aC5tYXgoMCwgZS5wYWdlWSB8fCBlLmNsaWVudFkgfHwgMCkgOiAwOwogICAgcmV0dXJuIHsKICAgICAgbW91c2V4OiBtb3VzZXgsCiAgICAgIG1vdXNleTogbW91c2V5LAogICAgICBjZW50ZXJ4OiBtb3VzZXggLSBzY3JlZW4ud2lkdGggLyAyLAogICAgICBjZW50ZXJ5OiBtb3VzZXkgLSBzY3JlZW4uaGVpZ2h0IC8gMgogICAgfTsKICB9OyAvLyBwb2ludCBvYmplY3QKCgogIHZhciBQb2ludCA9IGZ1bmN0aW9uIFBvaW50KHgsIHkpIHsKICAgIHRoaXMueCA9IDA7CiAgICB0aGlzLnkgPSAwOwogICAgdGhpcy5zZXQoeCwgeSk7CiAgfTsKCiAgUG9pbnQucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IFBvaW50LAogICAgc2V0OiBmdW5jdGlvbiBzZXQoeCwgeSkgewogICAgICB0aGlzLnggPSB4IHx8IDA7CiAgICAgIHRoaXMueSA9IHkgfHwgMDsKICAgIH0sCiAgICBjb3B5OiBmdW5jdGlvbiBjb3B5KHBvaW50KSB7CiAgICAgIHRoaXMueCA9IHBvaW50LnggfHwgMDsKICAgICAgdGhpcy55ID0gcG9pbnQueSB8fCAwOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBtdWx0aXBseTogZnVuY3Rpb24gbXVsdGlwbHkoeCwgeSkgewogICAgICB0aGlzLnggKj0geCB8fCAxOwogICAgICB0aGlzLnkgKj0geSB8fCAxOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBkaXZpZGU6IGZ1bmN0aW9uIGRpdmlkZSh4LCB5KSB7CiAgICAgIHRoaXMueCAvPSB4IHx8IDE7CiAgICAgIHRoaXMueSAvPSB5IHx8IDE7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKHgsIHkpIHsKICAgICAgdGhpcy54ICs9IHggfHwgMDsKICAgICAgdGhpcy55ICs9IHkgfHwgMDsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgc3VidHJhY3Q6IGZ1bmN0aW9uIHN1YnRyYWN0KHgsIHkpIHsKICAgICAgdGhpcy54IC09IHggfHwgMDsKICAgICAgdGhpcy55IC09IHkgfHwgMDsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY2xhbXBYOiBmdW5jdGlvbiBjbGFtcFgobWluLCBtYXgpIHsKICAgICAgdGhpcy54ID0gTWF0aC5tYXgobWluLCBNYXRoLm1pbih0aGlzLngsIG1heCkpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBjbGFtcFk6IGZ1bmN0aW9uIGNsYW1wWShtaW4sIG1heCkgewogICAgICB0aGlzLnkgPSBNYXRoLm1heChtaW4sIE1hdGgubWluKHRoaXMueSwgbWF4KSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGZsaXBYOiBmdW5jdGlvbiBmbGlwWCgpIHsKICAgICAgdGhpcy54ICo9IC0xOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBmbGlwWTogZnVuY3Rpb24gZmxpcFkoKSB7CiAgICAgIHRoaXMueSAqPSAtMTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfTsgLy8gY2xhc3MgY29uc3RydWN0b3IKCiAgdmFyIEZhY3RvcnkgPSBmdW5jdGlvbiBGYWN0b3J5KG9wdGlvbnMpIHsKICAgIGNvbnNvbGUubG9nKG9wdGlvbnMpOwogICAgdGhpcy5fY2FudmFzID0gbnVsbDsKICAgIHRoaXMuX2NvbnRleHQgPSBudWxsOwogICAgdGhpcy5fc3RvID0gbnVsbDsKICAgIHRoaXMuX3dpZHRoID0gMDsKICAgIHRoaXMuX2hlaWdodCA9IDA7CiAgICB0aGlzLl9zY3JvbGwgPSAwOwogICAgdGhpcy5fcmliYm9ucyA9IFtdOwogICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7CiAgICB0aGlzLl9vbkRyYXcgPSB0aGlzLl9vbkRyYXcuYmluZCh0aGlzKTsKICAgIHRoaXMuX29uUmVzaXplID0gdGhpcy5fb25SZXNpemUuYmluZCh0aGlzKTsKICAgIHRoaXMuX29uU2Nyb2xsID0gdGhpcy5fb25TY3JvbGwuYmluZCh0aGlzKTsKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKICAgIHRoaXMuaW5pdCgpOwogIH07IC8vIGNsYXNzIHByb3RvdHlwZQoKCiAgRmFjdG9yeS5wcm90b3R5cGUgPSB7CiAgICBjb25zdHJ1Y3RvcjogRmFjdG9yeSwKICAgIC8vIFNldCBhbmQgbWVyZ2UgbG9jYWwgb3B0aW9ucwogICAgc2V0T3B0aW9uczogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7CiAgICAgIGlmIChfdHlwZW9mKG9wdGlvbnMpID09PSAib2JqZWN0IikgewogICAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zKSB7CiAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgICAgIHRoaXMuX29wdGlvbnNba2V5XSA9IG9wdGlvbnNba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyBJbml0aWFsaXplIHRoZSByaWJib25zIGVmZmVjdAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLl9jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGVbImRpc3BsYXkiXSA9ICJibG9jayI7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlWyJwb3NpdGlvbiJdID0gImZpeGVkIjsKICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGVbIm1hcmdpbiJdID0gIjAiOwogICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZVsicGFkZGluZyJdID0gIjAiOwogICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZVsiYm9yZGVyIl0gPSAiMCI7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlWyJvdXRsaW5lIl0gPSAiMCI7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlWyJsZWZ0Il0gPSAiMCI7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlWyJ0b3AiXSA9ICIwIjsKICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGVbIndpZHRoIl0gPSAiMTAwJSI7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlWyJoZWlnaHQiXSA9ICIxMDAlIjsKICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGVbInotaW5kZXgiXSA9ICItMSI7IC8vIHRoaXMuX2NhbnZhcy5zdHlsZVsiYmFja2dyb3VuZC1jb2xvciJdPSIjMWYxZjFmIjsKCiAgICAgICAgdGhpcy5fY2FudmFzLmlkID0gImJnQ2FudmFzIjsKCiAgICAgICAgdGhpcy5fb25SZXNpemUoKTsKCiAgICAgICAgdGhpcy5fY29udGV4dCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwoKICAgICAgICB0aGlzLl9jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KTsKCiAgICAgICAgdGhpcy5fY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMuX29wdGlvbnMuY29sb3JBbHBoYTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5fb25SZXNpemUpOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLl9vblNjcm9sbCk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9jYW52YXMpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJDYW52YXMgQ29udGV4dCBFcnJvcjogIiArIGUudG9TdHJpbmcoKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLl9vbkRyYXcoKTsKICAgIH0sCiAgICAvLyBDcmVhdGUgYSBuZXcgcmFuZG9tIHJpYmJvbiBhbmQgdG8gdGhlIGxpc3QKICAgIGFkZFJpYmJvbjogZnVuY3Rpb24gYWRkUmliYm9uKCkgewogICAgICAvLyBtb3ZlbWVudCBkYXRhCiAgICAgIHZhciBkaXIgPSBNYXRoLnJvdW5kKHJhbmRvbSgxLCA5KSkgPiA1ID8gInJpZ2h0IiA6ICJsZWZ0IiwKICAgICAgICAgIHN0b3AgPSAxMDAwLAogICAgICAgICAgaGlkZSA9IDIwMCwKICAgICAgICAgIG1pbiA9IDAgLSBoaWRlLAogICAgICAgICAgbWF4ID0gdGhpcy5fd2lkdGggKyBoaWRlLAogICAgICAgICAgbW92ZXggPSAwLAogICAgICAgICAgbW92ZXkgPSAwLAogICAgICAgICAgc3RhcnR4ID0gZGlyID09PSAicmlnaHQiID8gbWluIDogbWF4LAogICAgICAgICAgc3RhcnR5ID0gTWF0aC5yb3VuZChyYW5kb20oMCwgdGhpcy5faGVpZ2h0KSk7IC8vIGFzanVzdCBzdGFydHkgYmFzZWQgb24gb3B0aW9ucwoKICAgICAgaWYgKC9eKHRvcHxtaW4pJC9pLnRlc3QodGhpcy5fb3B0aW9ucy52ZXJ0aWNhbFBvc2l0aW9uKSkgewogICAgICAgIHN0YXJ0eSA9IDAgKyBoaWRlOwogICAgICB9IGVsc2UgaWYgKC9eKG1pZGRsZXxjZW50ZXIpJC9pLnRlc3QodGhpcy5fb3B0aW9ucy52ZXJ0aWNhbFBvc2l0aW9uKSkgewogICAgICAgIHN0YXJ0eSA9IHRoaXMuX2hlaWdodCAvIDI7CiAgICAgIH0gZWxzZSBpZiAoL14oYm90dG9tfG1heCkkL2kudGVzdCh0aGlzLl9vcHRpb25zLnZlcnRpY2FsUG9zaXRpb24pKSB7CiAgICAgICAgc3RhcnR5ID0gdGhpcy5faGVpZ2h0IC0gaGlkZTsKICAgICAgfSAvLyByaWJib24gc2VjdGlvbnMgZGF0YQoKCiAgICAgIHZhciByaWJib24gPSBbXSwKICAgICAgICAgIHBvaW50MSA9IG5ldyBQb2ludChzdGFydHgsIHN0YXJ0eSksCiAgICAgICAgICBwb2ludDIgPSBuZXcgUG9pbnQoc3RhcnR4LCBzdGFydHkpLAogICAgICAgICAgcG9pbnQzID0gbnVsbCwKICAgICAgICAgIGNvbG9yID0gTWF0aC5yb3VuZChyYW5kb20oMCwgMzYwKSksCiAgICAgICAgICBkZWxheSA9IDA7IC8vIGJ1aWxzIHJpYmJvbiBzZWN0aW9ucwoKICAgICAgd2hpbGUgKHRydWUpIHsKICAgICAgICBpZiAoc3RvcCA8PSAwKSBicmVhazsKICAgICAgICBzdG9wLS07CiAgICAgICAgbW92ZXggPSBNYXRoLnJvdW5kKChNYXRoLnJhbmRvbSgpICogMSAtIDAuMikgKiB0aGlzLl9vcHRpb25zLmhvcml6b250YWxTcGVlZCk7CiAgICAgICAgbW92ZXkgPSBNYXRoLnJvdW5kKChNYXRoLnJhbmRvbSgpICogMSAtIDAuNSkgKiAodGhpcy5faGVpZ2h0ICogMC4yNSkpOwogICAgICAgIHBvaW50MyA9IG5ldyBQb2ludCgpOwogICAgICAgIHBvaW50My5jb3B5KHBvaW50Mik7CgogICAgICAgIGlmIChkaXIgPT09ICJyaWdodCIpIHsKICAgICAgICAgIHBvaW50My5hZGQobW92ZXgsIG1vdmV5KTsKICAgICAgICAgIGlmIChwb2ludDIueCA+PSBtYXgpIGJyZWFrOwogICAgICAgIH0gZWxzZSBpZiAoZGlyID09PSAibGVmdCIpIHsKICAgICAgICAgIHBvaW50My5zdWJ0cmFjdChtb3ZleCwgbW92ZXkpOwogICAgICAgICAgaWYgKHBvaW50Mi54IDw9IG1pbikgYnJlYWs7CiAgICAgICAgfSAvLyBwb2ludDMuY2xhbXBZKCAwLCB0aGlzLl9oZWlnaHQgKTsKCgogICAgICAgIHJpYmJvbi5wdXNoKHsKICAgICAgICAgIC8vIHNpbmdsZSByaWJib24gc2VjdGlvbgogICAgICAgICAgcG9pbnQxOiBuZXcgUG9pbnQocG9pbnQxLngsIHBvaW50MS55KSwKICAgICAgICAgIHBvaW50MjogbmV3IFBvaW50KHBvaW50Mi54LCBwb2ludDIueSksCiAgICAgICAgICBwb2ludDM6IHBvaW50MywKICAgICAgICAgIGNvbG9yOiBjb2xvciwKICAgICAgICAgIGRlbGF5OiBkZWxheSwKICAgICAgICAgIGRpcjogZGlyLAogICAgICAgICAgYWxwaGE6IDAsCiAgICAgICAgICBwaGFzZTogMAogICAgICAgIH0pOwogICAgICAgIHBvaW50MS5jb3B5KHBvaW50Mik7CiAgICAgICAgcG9pbnQyLmNvcHkocG9pbnQzKTsKICAgICAgICBkZWxheSArPSA0OwogICAgICAgIGNvbG9yICs9IHRoaXMuX29wdGlvbnMuY29sb3JDeWNsZVNwZWVkOwogICAgICB9CgogICAgICB0aGlzLl9yaWJib25zLnB1c2gocmliYm9uKTsKICAgIH0sCiAgICAvLyBEcmF3IHNpbmdsZSBzZWN0aW9uCiAgICBfZHJhd1JpYmJvblNlY3Rpb246IGZ1bmN0aW9uIF9kcmF3UmliYm9uU2VjdGlvbihzZWN0aW9uKSB7CiAgICAgIGlmIChzZWN0aW9uKSB7CiAgICAgICAgaWYgKHNlY3Rpb24ucGhhc2UgPj0gMSAmJiBzZWN0aW9uLmFscGhhIDw9IDApIHsKICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBkb25lCiAgICAgICAgfQoKICAgICAgICBpZiAoc2VjdGlvbi5kZWxheSA8PSAwKSB7CiAgICAgICAgICBzZWN0aW9uLnBoYXNlICs9IDAuMDI7CiAgICAgICAgICBzZWN0aW9uLmFscGhhID0gTWF0aC5zaW4oc2VjdGlvbi5waGFzZSkgKiAxOwogICAgICAgICAgc2VjdGlvbi5hbHBoYSA9IHNlY3Rpb24uYWxwaGEgPD0gMCA/IDAgOiBzZWN0aW9uLmFscGhhOwogICAgICAgICAgc2VjdGlvbi5hbHBoYSA9IHNlY3Rpb24uYWxwaGEgPj0gMSA/IDEgOiBzZWN0aW9uLmFscGhhOwoKICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmFuaW1hdGVTZWN0aW9ucykgewogICAgICAgICAgICB2YXIgbW9kID0gTWF0aC5zaW4oMSArIHNlY3Rpb24ucGhhc2UgKiBNYXRoLlBJIC8gMikgKiAwLjE7CgogICAgICAgICAgICBpZiAoc2VjdGlvbi5kaXIgPT09ICJyaWdodCIpIHsKICAgICAgICAgICAgICBzZWN0aW9uLnBvaW50MS5hZGQobW9kLCAwKTsKICAgICAgICAgICAgICBzZWN0aW9uLnBvaW50Mi5hZGQobW9kLCAwKTsKICAgICAgICAgICAgICBzZWN0aW9uLnBvaW50My5hZGQobW9kLCAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzZWN0aW9uLnBvaW50MS5zdWJ0cmFjdChtb2QsIDApOwogICAgICAgICAgICAgIHNlY3Rpb24ucG9pbnQyLnN1YnRyYWN0KG1vZCwgMCk7CiAgICAgICAgICAgICAgc2VjdGlvbi5wb2ludDMuc3VidHJhY3QobW9kLCAwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc2VjdGlvbi5wb2ludDEuYWRkKDAsIG1vZCk7CiAgICAgICAgICAgIHNlY3Rpb24ucG9pbnQyLmFkZCgwLCBtb2QpOwogICAgICAgICAgICBzZWN0aW9uLnBvaW50My5hZGQoMCwgbW9kKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VjdGlvbi5kZWxheSAtPSAwLjU7CiAgICAgICAgfQoKICAgICAgICB2YXIgcyA9IHRoaXMuX29wdGlvbnMuY29sb3JTYXR1cmF0aW9uLAogICAgICAgICAgICBsID0gdGhpcy5fb3B0aW9ucy5jb2xvckJyaWdodG5lc3MsCiAgICAgICAgICAgIGMgPSAiaHNsYSgiICsgc2VjdGlvbi5jb2xvciArICIsICIgKyBzICsgIiwgIiArIGwgKyAiLCAiICsgc2VjdGlvbi5hbHBoYSArICIgKSI7CgogICAgICAgIHRoaXMuX2NvbnRleHQuc2F2ZSgpOwoKICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5wYXJhbGxheEFtb3VudCAhPT0gMCkgewogICAgICAgICAgdGhpcy5fY29udGV4dC50cmFuc2xhdGUoMCwgdGhpcy5fc2Nyb2xsICogdGhpcy5fb3B0aW9ucy5wYXJhbGxheEFtb3VudCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9jb250ZXh0LmJlZ2luUGF0aCgpOwoKICAgICAgICB0aGlzLl9jb250ZXh0Lm1vdmVUbyhzZWN0aW9uLnBvaW50MS54LCBzZWN0aW9uLnBvaW50MS55KTsKCiAgICAgICAgdGhpcy5fY29udGV4dC5saW5lVG8oc2VjdGlvbi5wb2ludDIueCwgc2VjdGlvbi5wb2ludDIueSk7CgogICAgICAgIHRoaXMuX2NvbnRleHQubGluZVRvKHNlY3Rpb24ucG9pbnQzLngsIHNlY3Rpb24ucG9pbnQzLnkpOwoKICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGM7CgogICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbCgpOwoKICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5zdHJva2VTaXplID4gMCkgewogICAgICAgICAgdGhpcy5fY29udGV4dC5saW5lV2lkdGggPSB0aGlzLl9vcHRpb25zLnN0cm9rZVNpemU7CiAgICAgICAgICB0aGlzLl9jb250ZXh0LnN0cm9rZVN0eWxlID0gYzsKICAgICAgICAgIHRoaXMuX2NvbnRleHQubGluZUNhcCA9ICJyb3VuZCI7CgogICAgICAgICAgdGhpcy5fY29udGV4dC5zdHJva2UoKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuX2NvbnRleHQucmVzdG9yZSgpOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7IC8vIG5vdCBkb25lIHlldAogICAgfSwKICAgIC8vIERyYXcgcmliYm9ucwogICAgX29uRHJhdzogZnVuY3Rpb24gX29uRHJhdygpIHsKICAgICAgLy8gY2xlYW51cCBvbiByaWJib25zIGxpc3QgdG8gcnRlbW92ZWQgZmluaXNoZWQgcmliYm9ucwogICAgICBmb3IgKHZhciBpID0gMCwgdCA9IHRoaXMuX3JpYmJvbnMubGVuZ3RoOyBpIDwgdDsgKytpKSB7CiAgICAgICAgaWYgKCF0aGlzLl9yaWJib25zW2ldKSB7CiAgICAgICAgICB0aGlzLl9yaWJib25zLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgIH0gLy8gZHJhdyBuZXcgcmliYm9ucwoKCiAgICAgIHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQpOwoKICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLl9yaWJib25zLmxlbmd0aDsgKythKSAvLyBzaW5nbGUgcmliYm9uCiAgICAgIHsKICAgICAgICB2YXIgcmliYm9uID0gdGhpcy5fcmliYm9uc1thXSwKICAgICAgICAgICAgbnVtU2VjdGlvbnMgPSByaWJib24ubGVuZ3RoLAogICAgICAgICAgICBudW1Eb25lID0gMDsKCiAgICAgICAgZm9yICh2YXIgYiA9IDA7IGIgPCBudW1TZWN0aW9uczsgKytiKSAvLyByaWJib24gc2VjdGlvbgogICAgICAgIHsKICAgICAgICAgIGlmICh0aGlzLl9kcmF3UmliYm9uU2VjdGlvbihyaWJib25bYl0pKSB7CiAgICAgICAgICAgIG51bURvbmUrKzsgLy8gc2VjdGlvbiBkb25lCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAobnVtRG9uZSA+PSBudW1TZWN0aW9ucykgLy8gcmliYm9uIGRvbmUKICAgICAgICAgIHsKICAgICAgICAgICAgdGhpcy5fcmliYm9uc1thXSA9IG51bGw7CiAgICAgICAgICB9CiAgICAgIH0gLy8gbWFpbnRhaW4gb3B0aW9uYWwgbnVtYmVyIG9mIHJpYmJvbnMgb24gY2FudmFzCgoKICAgICAgaWYgKHRoaXMuX3JpYmJvbnMubGVuZ3RoIDwgdGhpcy5fb3B0aW9ucy5yaWJib25Db3VudCkgewogICAgICAgIHRoaXMuYWRkUmliYm9uKCk7CiAgICAgIH0KCiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9vbkRyYXcpOwogICAgfSwKICAgIC8vIFVwZGF0ZSBjb250YWluZXIgc2l6ZSBpbmZvCiAgICBfb25SZXNpemU6IGZ1bmN0aW9uIF9vblJlc2l6ZShlKSB7CiAgICAgIHZhciBzY3JlZW4gPSBzY3JlZW5JbmZvKGUpOwogICAgICB0aGlzLl93aWR0aCA9IHNjcmVlbi53aWR0aDsKICAgICAgdGhpcy5faGVpZ2h0ID0gc2NyZWVuLmhlaWdodDsKCiAgICAgIGlmICh0aGlzLl9jYW52YXMpIHsKICAgICAgICB0aGlzLl9jYW52YXMud2lkdGggPSB0aGlzLl93aWR0aDsKICAgICAgICB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gdGhpcy5faGVpZ2h0OwoKICAgICAgICBpZiAodGhpcy5fY29udGV4dCkgewogICAgICAgICAgdGhpcy5fY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMuX29wdGlvbnMuY29sb3JBbHBoYTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyBVcGRhdGUgY29udGFpbmVyIHNpemUgaW5mbwogICAgX29uU2Nyb2xsOiBmdW5jdGlvbiBfb25TY3JvbGwoZSkgewogICAgICB2YXIgc2NyZWVuID0gc2NyZWVuSW5mbyhlKTsKICAgICAgdGhpcy5fc2Nyb2xsID0gc2NyZWVuLnNjcm9sbHk7CiAgICB9CiAgfTsgLy8gZXhwb3J0CgogIHJldHVybiBGYWN0b3J5Owp9KTsKCmV4cG9ydCBkZWZhdWx0IFJpYmJvbnM7"},{"version":3,"sources":["D:/mygithub/myblog/node_modules/vuepress-plugin-ribbon-animation/bin/ribbon.js"],"names":["name","factory","window","_w","_b","document","body","_d","documentElement","random","arguments","length","Array","isArray","index","Math","round","screenInfo","e","width","max","innerWidth","clientWidth","height","innerHeight","clientHeight","scrollx","pageXOffset","scrollLeft","clientLeft","scrolly","pageYOffset","scrollTop","clientTop","ratio","centerx","centery","mouseInfo","screen","mousex","pageX","clientX","mousey","pageY","clientY","Point","x","y","set","prototype","constructor","copy","point","multiply","divide","add","subtract","clampX","min","clampY","flipX","flipY","Factory","options","console","log","_canvas","_context","_sto","_width","_height","_scroll","_ribbons","_options","_onDraw","bind","_onResize","_onScroll","setOptions","init","key","hasOwnProperty","createElement","style","id","getContext","clearRect","globalAlpha","colorAlpha","addEventListener","appendChild","warn","toString","addRibbon","dir","stop","hide","movex","movey","startx","starty","test","verticalPosition","ribbon","point1","point2","point3","color","delay","horizontalSpeed","push","alpha","phase","colorCycleSpeed","_drawRibbonSection","section","sin","animateSections","mod","PI","s","colorSaturation","l","colorBrightness","c","save","parallaxAmount","translate","beginPath","moveTo","lineTo","fillStyle","fill","strokeSize","lineWidth","strokeStyle","lineCap","stroke","restore","i","t","splice","a","numSections","numDone","b","ribbonCount","requestAnimationFrame","Ribbons"],"mappings":"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","sourcesContent":["/**\r\n * Ribbons Class File.\r\n * Creates low-poly ribbons background effect inside a target container.\r\n */\r\n(function (name, factory)\r\n{\r\n    if (typeof window === \"object\")\r\n    {\r\n        window[name] = factory();\r\n    }\r\n\r\n})(\"Ribbons\", function ()\r\n{\r\n    var _w = window,\r\n    _b = document.body,//返回html dom中的body节点 即<body>\r\n    _d = document.documentElement;//返回html dom中的root 节点 即<html>\r\n\r\n    // random helper\r\n    var random = function ()\r\n    {\r\n        if (arguments.length === 1) // only 1 argument\r\n            {\r\n                if (Array.isArray(arguments[0])) // extract index from array\r\n                    {\r\n                        var index = Math.round(random(0, arguments[0].length - 1));\r\n                        return arguments[0][index];\r\n                    }\r\n                return random(0, arguments[0]); // assume numeric\r\n            } else\r\n        if (arguments.length === 2) // two arguments range\r\n            {\r\n                return Math.random() * (arguments[1] - arguments[0]) + arguments[0];\r\n            }\r\n        return 0; // default\r\n    };\r\n\r\n    // screen helper\r\n    var screenInfo = function (e)\r\n    {\r\n        var width = Math.max(0, _w.innerWidth || _d.clientWidth || _b.clientWidth || 0),\r\n        height = Math.max(0, _w.innerHeight || _d.clientHeight || _b.clientHeight || 0),\r\n        scrollx = Math.max(0, _w.pageXOffset || _d.scrollLeft || _b.scrollLeft || 0) - (_d.clientLeft || 0),\r\n        scrolly = Math.max(0, _w.pageYOffset || _d.scrollTop || _b.scrollTop || 0) - (_d.clientTop || 0);\r\n\r\n        return {\r\n            width: width,\r\n            height: height,\r\n            ratio: width / height,\r\n            centerx: width / 2,\r\n            centery: height / 2,\r\n            scrollx: scrollx,\r\n            scrolly: scrolly };\r\n\r\n    };\r\n\r\n    // mouse/input helper\r\n    var mouseInfo = function (e)\r\n    {\r\n        var screen = screenInfo(e),\r\n        mousex = e ? Math.max(0, e.pageX || e.clientX || 0) : 0,\r\n        mousey = e ? Math.max(0, e.pageY || e.clientY || 0) : 0;\r\n\r\n        return {\r\n            mousex: mousex,\r\n            mousey: mousey,\r\n            centerx: mousex - screen.width / 2,\r\n            centery: mousey - screen.height / 2 };\r\n\r\n    };\r\n\r\n    // point object\r\n    var Point = function (x, y)\r\n    {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.set(x, y);\r\n    };\r\n    Point.prototype = {\r\n        constructor: Point,\r\n\r\n        set: function (x, y)\r\n        {\r\n            this.x = x || 0;\r\n            this.y = y || 0;\r\n        },\r\n        copy: function (point)\r\n        {\r\n            this.x = point.x || 0;\r\n            this.y = point.y || 0;\r\n            return this;\r\n        },\r\n        multiply: function (x, y)\r\n        {\r\n            this.x *= x || 1;\r\n            this.y *= y || 1;\r\n            return this;\r\n        },\r\n        divide: function (x, y)\r\n        {\r\n            this.x /= x || 1;\r\n            this.y /= y || 1;\r\n            return this;\r\n        },\r\n        add: function (x, y)\r\n        {\r\n            this.x += x || 0;\r\n            this.y += y || 0;\r\n            return this;\r\n        },\r\n        subtract: function (x, y)\r\n        {\r\n            this.x -= x || 0;\r\n            this.y -= y || 0;\r\n            return this;\r\n        },\r\n        clampX: function (min, max)\r\n        {\r\n            this.x = Math.max(min, Math.min(this.x, max));\r\n            return this;\r\n        },\r\n        clampY: function (min, max)\r\n        {\r\n            this.y = Math.max(min, Math.min(this.y, max));\r\n            return this;\r\n        },\r\n        flipX: function ()\r\n        {\r\n            this.x *= -1;\r\n            return this;\r\n        },\r\n        flipY: function ()\r\n        {\r\n            this.y *= -1;\r\n            return this;\r\n        } };\r\n\r\n\r\n    // class constructor\r\n    var Factory = function (options)\r\n    {\r\n        console.log(options)\r\n        this._canvas = null;\r\n        this._context = null;\r\n        this._sto = null;\r\n        this._width = 0;\r\n        this._height = 0;\r\n        this._scroll = 0;\r\n        this._ribbons = [];\r\n        this._options = options;\r\n\r\n        this._onDraw = this._onDraw.bind(this);\r\n        this._onResize = this._onResize.bind(this);\r\n        this._onScroll = this._onScroll.bind(this);\r\n        this.setOptions(options);\r\n        this.init();\r\n    };\r\n\r\n    // class prototype\r\n    Factory.prototype = {\r\n        constructor: Factory,\r\n\r\n        // Set and merge local options\r\n        setOptions: function (options)\r\n        {\r\n            if (typeof options === \"object\")\r\n            {\r\n                for (var key in options)\r\n                {\r\n                    if (options.hasOwnProperty(key))\r\n                    {\r\n                        this._options[key] = options[key];\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        // Initialize the ribbons effect\r\n        init: function ()\r\n        {\r\n            try\r\n            {\r\n                this._canvas = document.createElement(\"canvas\");\r\n                this._canvas.style[\"display\"] = \"block\";\r\n                this._canvas.style[\"position\"] = \"fixed\";\r\n                this._canvas.style[\"margin\"] = \"0\";\r\n                this._canvas.style[\"padding\"] = \"0\";\r\n                this._canvas.style[\"border\"] = \"0\";\r\n                this._canvas.style[\"outline\"] = \"0\";\r\n                this._canvas.style[\"left\"] = \"0\";\r\n               \tthis._canvas.style[\"top\"] = \"0\";\r\n               \tthis._canvas.style[\"width\"] = \"100%\";\r\n               \tthis._canvas.style[\"height\"] = \"100%\";\r\n                this._canvas.style[\"z-index\"] = \"-1\";\r\n\t\t\t\t// this._canvas.style[\"background-color\"]=\"#1f1f1f\";\r\n                this._canvas.id = \"bgCanvas\";\r\n                this._onResize();\r\n\r\n                this._context = this._canvas.getContext(\"2d\");\r\n                this._context.clearRect(0, 0, this._width, this._height);\r\n                this._context.globalAlpha = this._options.colorAlpha;\r\n\r\n                window.addEventListener(\"resize\", this._onResize);\r\n                window.addEventListener(\"scroll\", this._onScroll);\r\n                document.body.appendChild(this._canvas);\r\n            }\r\n            catch (e) {\r\n                console.warn(\"Canvas Context Error: \" + e.toString());\r\n                return;\r\n            }\r\n            this._onDraw();\r\n        },\r\n\r\n        // Create a new random ribbon and to the list\r\n        addRibbon: function ()\r\n        {\r\n            // movement data\r\n            var dir = Math.round(random(1, 9)) > 5 ? \"right\" : \"left\",\r\n            stop = 1000,\r\n            hide = 200,\r\n            min = 0 - hide,\r\n            max = this._width + hide,\r\n            movex = 0,\r\n            movey = 0,\r\n            startx = dir === \"right\" ? min : max,\r\n            starty = Math.round(random(0, this._height));\r\n\r\n            // asjust starty based on options\r\n            if (/^(top|min)$/i.test(this._options.verticalPosition))\r\n            {\r\n                starty = 0 + hide;\r\n            } else\r\n            if (/^(middle|center)$/i.test(this._options.verticalPosition))\r\n            {\r\n                starty = this._height / 2;\r\n            } else\r\n            if (/^(bottom|max)$/i.test(this._options.verticalPosition))\r\n            {\r\n                starty = this._height - hide;\r\n            }\r\n\r\n            // ribbon sections data\r\n            var ribbon = [],\r\n            point1 = new Point(startx, starty),\r\n            point2 = new Point(startx, starty),\r\n            point3 = null,\r\n            color = Math.round(random(0, 360)),\r\n            delay = 0;\r\n\r\n            // buils ribbon sections\r\n            while (true)\r\n            {\r\n                if (stop <= 0) break;stop--;\r\n\r\n                movex = Math.round((Math.random() * 1 - 0.2) * this._options.horizontalSpeed);\r\n                movey = Math.round((Math.random() * 1 - 0.5) * (this._height * 0.25));\r\n\r\n                point3 = new Point();\r\n                point3.copy(point2);\r\n\r\n                if (dir === \"right\")\r\n                {\r\n                    point3.add(movex, movey);\r\n                    if (point2.x >= max) break;\r\n                } else\r\n                if (dir === \"left\")\r\n                {\r\n                    point3.subtract(movex, movey);\r\n                    if (point2.x <= min) break;\r\n                }\r\n                // point3.clampY( 0, this._height );\r\n\r\n                ribbon.push({ // single ribbon section\r\n                    point1: new Point(point1.x, point1.y),\r\n                    point2: new Point(point2.x, point2.y),\r\n                    point3: point3,\r\n                    color: color,\r\n                    delay: delay,\r\n                    dir: dir,\r\n                    alpha: 0,\r\n                    phase: 0 });\r\n\r\n\r\n                point1.copy(point2);\r\n                point2.copy(point3);\r\n\r\n                delay += 4;\r\n                color += this._options.colorCycleSpeed;\r\n            }\r\n            this._ribbons.push(ribbon);\r\n        },\r\n\r\n        // Draw single section\r\n        _drawRibbonSection: function (section)\r\n        {\r\n            if (section)\r\n            {\r\n                if (section.phase >= 1 && section.alpha <= 0)\r\n                {\r\n                    return true; // done\r\n                }\r\n                if (section.delay <= 0)\r\n                {\r\n                    section.phase += 0.02;\r\n                    section.alpha = Math.sin(section.phase) * 1;\r\n                    section.alpha = section.alpha <= 0 ? 0 : section.alpha;\r\n                    section.alpha = section.alpha >= 1 ? 1 : section.alpha;\r\n\r\n                    if (this._options.animateSections)\r\n                    {\r\n                        var mod = Math.sin(1 + section.phase * Math.PI / 2) * 0.1;\r\n\r\n                        if (section.dir === \"right\")\r\n                        {\r\n                            section.point1.add(mod, 0);\r\n                            section.point2.add(mod, 0);\r\n                            section.point3.add(mod, 0);\r\n                        } else {\r\n                            section.point1.subtract(mod, 0);\r\n                            section.point2.subtract(mod, 0);\r\n                            section.point3.subtract(mod, 0);\r\n                        }\r\n                        section.point1.add(0, mod);\r\n                        section.point2.add(0, mod);\r\n                        section.point3.add(0, mod);\r\n                    }\r\n                } else\r\n                {section.delay -= 0.5;}\r\n\r\n                var s = this._options.colorSaturation,\r\n                l = this._options.colorBrightness,\r\n                c = \"hsla(\" + section.color + \", \" + s + \", \" + l + \", \" + section.alpha + \" )\";\r\n\r\n                this._context.save();\r\n\r\n                if (this._options.parallaxAmount !== 0)\r\n                {\r\n                    this._context.translate(0, this._scroll * this._options.parallaxAmount);\r\n                }\r\n                this._context.beginPath();\r\n                this._context.moveTo(section.point1.x, section.point1.y);\r\n                this._context.lineTo(section.point2.x, section.point2.y);\r\n                this._context.lineTo(section.point3.x, section.point3.y);\r\n                this._context.fillStyle = c;\r\n                this._context.fill();\r\n\r\n                if (this._options.strokeSize > 0)\r\n                {\r\n                    this._context.lineWidth = this._options.strokeSize;\r\n                    this._context.strokeStyle = c;\r\n                    this._context.lineCap = \"round\";\r\n                    this._context.stroke();\r\n                }\r\n                this._context.restore();\r\n            }\r\n            return false; // not done yet\r\n        },\r\n\r\n        // Draw ribbons\r\n        _onDraw: function ()\r\n        {\r\n            // cleanup on ribbons list to rtemoved finished ribbons\r\n            for (var i = 0, t = this._ribbons.length; i < t; ++i)\r\n            {\r\n                if (!this._ribbons[i])\r\n                {\r\n                    this._ribbons.splice(i, 1);\r\n                }\r\n            }\r\n\r\n            // draw new ribbons\r\n            this._context.clearRect(0, 0, this._width, this._height);\r\n\r\n            for (var a = 0; a < this._ribbons.length; ++a) // single ribbon\r\n            {\r\n                var ribbon = this._ribbons[a],\r\n                numSections = ribbon.length,\r\n                numDone = 0;\r\n\r\n                for (var b = 0; b < numSections; ++b) // ribbon section\r\n                {\r\n                    if (this._drawRibbonSection(ribbon[b]))\r\n                    {\r\n                        numDone++; // section done\r\n                    }\r\n                }\r\n                if (numDone >= numSections) // ribbon done\r\n                    {\r\n                        this._ribbons[a] = null;\r\n                    }\r\n            }\r\n            // maintain optional number of ribbons on canvas\r\n            if (this._ribbons.length < this._options.ribbonCount)\r\n            {\r\n                this.addRibbon();\r\n            }\r\n            requestAnimationFrame(this._onDraw);\r\n        },\r\n\r\n        // Update container size info\r\n        _onResize: function (e)\r\n        {\r\n            var screen = screenInfo(e);\r\n            this._width = screen.width;\r\n            this._height = screen.height;\r\n\r\n            if (this._canvas)\r\n            {\r\n                this._canvas.width = this._width;\r\n                this._canvas.height = this._height;\r\n\r\n                if (this._context)\r\n                {\r\n                    this._context.globalAlpha = this._options.colorAlpha;\r\n                }\r\n            }\r\n        },\r\n\r\n        // Update container size info\r\n        _onScroll: function (e)\r\n        {\r\n            var screen = screenInfo(e);\r\n            this._scroll = screen.scrolly;\r\n        } };\r\n    // export\r\n    return Factory;\r\n});\r\nexport default Ribbons\r\n"]}]}