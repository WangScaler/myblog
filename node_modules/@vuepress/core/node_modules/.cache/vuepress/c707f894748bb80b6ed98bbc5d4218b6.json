{"remainingRequest":"D:\\mygithub\\myblogs\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\mygithub\\myblogs\\node_modules\\vuepress-plugin-ribbon-animation\\bin\\ribbon.js","dependencies":[{"path":"D:\\mygithub\\myblogs\\node_modules\\vuepress-plugin-ribbon-animation\\bin\\ribbon.js","mtime":499162500000},{"path":"D:\\mygithub\\myblogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mygithub\\myblogs\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmlzLWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5iaW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICJEOi9teWdpdGh1Yi9teWJsb2dzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwoKLyoqDQogKiBSaWJib25zIENsYXNzIEZpbGUuDQogKiBDcmVhdGVzIGxvdy1wb2x5IHJpYmJvbnMgYmFja2dyb3VuZCBlZmZlY3QgaW5zaWRlIGEgdGFyZ2V0IGNvbnRhaW5lci4NCiAqLwooZnVuY3Rpb24gKG5hbWUsIGZhY3RvcnkpIHsKICBpZiAoKHR5cGVvZiB3aW5kb3cgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKHdpbmRvdykpID09PSAib2JqZWN0IikgewogICAgd2luZG93W25hbWVdID0gZmFjdG9yeSgpOwogIH0KfSkoIlJpYmJvbnMiLCBmdW5jdGlvbiAoKSB7CiAgdmFyIF93ID0gd2luZG93LAogICAgICBfYiA9IGRvY3VtZW50LmJvZHksCiAgICAgIC8v6L+U5ZueaHRtbCBkb23kuK3nmoRib2R56IqC54K5IOWNszxib2R5PgogIF9kID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OyAvL+i/lOWbnmh0bWwgZG9t5Lit55qEcm9vdCDoioLngrkg5Y2zPGh0bWw+CiAgLy8gcmFuZG9tIGhlbHBlcgoKICB2YXIgcmFuZG9tID0gZnVuY3Rpb24gcmFuZG9tKCkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIC8vIG9ubHkgMSBhcmd1bWVudAogICAgICB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSkgLy8gZXh0cmFjdCBpbmRleCBmcm9tIGFycmF5CiAgICAgICAgICB7CiAgICAgICAgICAgIHZhciBpbmRleCA9IE1hdGgucm91bmQocmFuZG9tKDAsIGFyZ3VtZW50c1swXS5sZW5ndGggLSAxKSk7CiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF1baW5kZXhdOwogICAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmFuZG9tKDAsIGFyZ3VtZW50c1swXSk7IC8vIGFzc3VtZSBudW1lcmljCiAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgLy8gdHdvIGFyZ3VtZW50cyByYW5nZQogICAgICB7CiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAoYXJndW1lbnRzWzFdIC0gYXJndW1lbnRzWzBdKSArIGFyZ3VtZW50c1swXTsKICAgICAgfQoKICAgIHJldHVybiAwOyAvLyBkZWZhdWx0CiAgfTsgLy8gc2NyZWVuIGhlbHBlcgoKCiAgdmFyIHNjcmVlbkluZm8gPSBmdW5jdGlvbiBzY3JlZW5JbmZvKGUpIHsKICAgIHZhciB3aWR0aCA9IE1hdGgubWF4KDAsIF93LmlubmVyV2lkdGggfHwgX2QuY2xpZW50V2lkdGggfHwgX2IuY2xpZW50V2lkdGggfHwgMCksCiAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoMCwgX3cuaW5uZXJIZWlnaHQgfHwgX2QuY2xpZW50SGVpZ2h0IHx8IF9iLmNsaWVudEhlaWdodCB8fCAwKSwKICAgICAgICBzY3JvbGx4ID0gTWF0aC5tYXgoMCwgX3cucGFnZVhPZmZzZXQgfHwgX2Quc2Nyb2xsTGVmdCB8fCBfYi5zY3JvbGxMZWZ0IHx8IDApIC0gKF9kLmNsaWVudExlZnQgfHwgMCksCiAgICAgICAgc2Nyb2xseSA9IE1hdGgubWF4KDAsIF93LnBhZ2VZT2Zmc2V0IHx8IF9kLnNjcm9sbFRvcCB8fCBfYi5zY3JvbGxUb3AgfHwgMCkgLSAoX2QuY2xpZW50VG9wIHx8IDApOwogICAgcmV0dXJuIHsKICAgICAgd2lkdGg6IHdpZHRoLAogICAgICBoZWlnaHQ6IGhlaWdodCwKICAgICAgcmF0aW86IHdpZHRoIC8gaGVpZ2h0LAogICAgICBjZW50ZXJ4OiB3aWR0aCAvIDIsCiAgICAgIGNlbnRlcnk6IGhlaWdodCAvIDIsCiAgICAgIHNjcm9sbHg6IHNjcm9sbHgsCiAgICAgIHNjcm9sbHk6IHNjcm9sbHkKICAgIH07CiAgfTsgLy8gbW91c2UvaW5wdXQgaGVscGVyCgoKICB2YXIgbW91c2VJbmZvID0gZnVuY3Rpb24gbW91c2VJbmZvKGUpIHsKICAgIHZhciBzY3JlZW4gPSBzY3JlZW5JbmZvKGUpLAogICAgICAgIG1vdXNleCA9IGUgPyBNYXRoLm1heCgwLCBlLnBhZ2VYIHx8IGUuY2xpZW50WCB8fCAwKSA6IDAsCiAgICAgICAgbW91c2V5ID0gZSA/IE1hdGgubWF4KDAsIGUucGFnZVkgfHwgZS5jbGllbnRZIHx8IDApIDogMDsKICAgIHJldHVybiB7CiAgICAgIG1vdXNleDogbW91c2V4LAogICAgICBtb3VzZXk6IG1vdXNleSwKICAgICAgY2VudGVyeDogbW91c2V4IC0gc2NyZWVuLndpZHRoIC8gMiwKICAgICAgY2VudGVyeTogbW91c2V5IC0gc2NyZWVuLmhlaWdodCAvIDIKICAgIH07CiAgfTsgLy8gcG9pbnQgb2JqZWN0CgoKICB2YXIgUG9pbnQgPSBmdW5jdGlvbiBQb2ludCh4LCB5KSB7CiAgICB0aGlzLnggPSAwOwogICAgdGhpcy55ID0gMDsKICAgIHRoaXMuc2V0KHgsIHkpOwogIH07CgogIFBvaW50LnByb3RvdHlwZSA9IHsKICAgIGNvbnN0cnVjdG9yOiBQb2ludCwKICAgIHNldDogZnVuY3Rpb24gc2V0KHgsIHkpIHsKICAgICAgdGhpcy54ID0geCB8fCAwOwogICAgICB0aGlzLnkgPSB5IHx8IDA7CiAgICB9LAogICAgY29weTogZnVuY3Rpb24gY29weShwb2ludCkgewogICAgICB0aGlzLnggPSBwb2ludC54IHx8IDA7CiAgICAgIHRoaXMueSA9IHBvaW50LnkgfHwgMDsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgbXVsdGlwbHk6IGZ1bmN0aW9uIG11bHRpcGx5KHgsIHkpIHsKICAgICAgdGhpcy54ICo9IHggfHwgMTsKICAgICAgdGhpcy55ICo9IHkgfHwgMTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZGl2aWRlOiBmdW5jdGlvbiBkaXZpZGUoeCwgeSkgewogICAgICB0aGlzLnggLz0geCB8fCAxOwogICAgICB0aGlzLnkgLz0geSB8fCAxOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCh4LCB5KSB7CiAgICAgIHRoaXMueCArPSB4IHx8IDA7CiAgICAgIHRoaXMueSArPSB5IHx8IDA7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIHN1YnRyYWN0OiBmdW5jdGlvbiBzdWJ0cmFjdCh4LCB5KSB7CiAgICAgIHRoaXMueCAtPSB4IHx8IDA7CiAgICAgIHRoaXMueSAtPSB5IHx8IDA7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGNsYW1wWDogZnVuY3Rpb24gY2xhbXBYKG1pbiwgbWF4KSB7CiAgICAgIHRoaXMueCA9IE1hdGgubWF4KG1pbiwgTWF0aC5taW4odGhpcy54LCBtYXgpKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgY2xhbXBZOiBmdW5jdGlvbiBjbGFtcFkobWluLCBtYXgpIHsKICAgICAgdGhpcy55ID0gTWF0aC5tYXgobWluLCBNYXRoLm1pbih0aGlzLnksIG1heCkpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBmbGlwWDogZnVuY3Rpb24gZmxpcFgoKSB7CiAgICAgIHRoaXMueCAqPSAtMTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZmxpcFk6IGZ1bmN0aW9uIGZsaXBZKCkgewogICAgICB0aGlzLnkgKj0gLTE7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH07IC8vIGNsYXNzIGNvbnN0cnVjdG9yCgogIHZhciBGYWN0b3J5ID0gZnVuY3Rpb24gRmFjdG9yeShvcHRpb25zKSB7CiAgICBjb25zb2xlLmxvZyhvcHRpb25zKTsKICAgIHRoaXMuX2NhbnZhcyA9IG51bGw7CiAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDsKICAgIHRoaXMuX3N0byA9IG51bGw7CiAgICB0aGlzLl93aWR0aCA9IDA7CiAgICB0aGlzLl9oZWlnaHQgPSAwOwogICAgdGhpcy5fc2Nyb2xsID0gMDsKICAgIHRoaXMuX3JpYmJvbnMgPSBbXTsKICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zOwogICAgdGhpcy5fb25EcmF3ID0gdGhpcy5fb25EcmF3LmJpbmQodGhpcyk7CiAgICB0aGlzLl9vblJlc2l6ZSA9IHRoaXMuX29uUmVzaXplLmJpbmQodGhpcyk7CiAgICB0aGlzLl9vblNjcm9sbCA9IHRoaXMuX29uU2Nyb2xsLmJpbmQodGhpcyk7CiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgICB0aGlzLmluaXQoKTsKICB9OyAvLyBjbGFzcyBwcm90b3R5cGUKCgogIEZhY3RvcnkucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IEZhY3RvcnksCiAgICAvLyBTZXQgYW5kIG1lcmdlIGxvY2FsIG9wdGlvbnMKICAgIHNldE9wdGlvbnM6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgICBpZiAoX3R5cGVvZihvcHRpb25zKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucykgewogICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgICAgICB0aGlzLl9vcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8gSW5pdGlhbGl6ZSB0aGUgcmliYm9ucyBlZmZlY3QKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5fY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlWyJkaXNwbGF5Il0gPSAiYmxvY2siOwogICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZVsicG9zaXRpb24iXSA9ICJmaXhlZCI7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlWyJtYXJnaW4iXSA9ICIwIjsKICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGVbInBhZGRpbmciXSA9ICIwIjsKICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGVbImJvcmRlciJdID0gIjAiOwogICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZVsib3V0bGluZSJdID0gIjAiOwogICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZVsibGVmdCJdID0gIjAiOwogICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZVsidG9wIl0gPSAiMCI7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlWyJ3aWR0aCJdID0gIjEwMCUiOwogICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZVsiaGVpZ2h0Il0gPSAiMTAwJSI7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlWyJ6LWluZGV4Il0gPSAiLTEiOyAvLyB0aGlzLl9jYW52YXMuc3R5bGVbImJhY2tncm91bmQtY29sb3IiXT0iIzFmMWYxZiI7CgogICAgICAgIHRoaXMuX2NhbnZhcy5pZCA9ICJiZ0NhbnZhcyI7CgogICAgICAgIHRoaXMuX29uUmVzaXplKCk7CgogICAgICAgIHRoaXMuX2NvbnRleHQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKCiAgICAgICAgdGhpcy5fY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7CgogICAgICAgIHRoaXMuX2NvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLl9vcHRpb25zLmNvbG9yQWxwaGE7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMuX29uUmVzaXplKTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5fb25TY3JvbGwpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fY2FudmFzKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUud2FybigiQ2FudmFzIENvbnRleHQgRXJyb3I6ICIgKyBlLnRvU3RyaW5nKCkpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5fb25EcmF3KCk7CiAgICB9LAogICAgLy8gQ3JlYXRlIGEgbmV3IHJhbmRvbSByaWJib24gYW5kIHRvIHRoZSBsaXN0CiAgICBhZGRSaWJib246IGZ1bmN0aW9uIGFkZFJpYmJvbigpIHsKICAgICAgLy8gbW92ZW1lbnQgZGF0YQogICAgICB2YXIgZGlyID0gTWF0aC5yb3VuZChyYW5kb20oMSwgOSkpID4gNSA/ICJyaWdodCIgOiAibGVmdCIsCiAgICAgICAgICBzdG9wID0gMTAwMCwKICAgICAgICAgIGhpZGUgPSAyMDAsCiAgICAgICAgICBtaW4gPSAwIC0gaGlkZSwKICAgICAgICAgIG1heCA9IHRoaXMuX3dpZHRoICsgaGlkZSwKICAgICAgICAgIG1vdmV4ID0gMCwKICAgICAgICAgIG1vdmV5ID0gMCwKICAgICAgICAgIHN0YXJ0eCA9IGRpciA9PT0gInJpZ2h0IiA/IG1pbiA6IG1heCwKICAgICAgICAgIHN0YXJ0eSA9IE1hdGgucm91bmQocmFuZG9tKDAsIHRoaXMuX2hlaWdodCkpOyAvLyBhc2p1c3Qgc3RhcnR5IGJhc2VkIG9uIG9wdGlvbnMKCiAgICAgIGlmICgvXih0b3B8bWluKSQvaS50ZXN0KHRoaXMuX29wdGlvbnMudmVydGljYWxQb3NpdGlvbikpIHsKICAgICAgICBzdGFydHkgPSAwICsgaGlkZTsKICAgICAgfSBlbHNlIGlmICgvXihtaWRkbGV8Y2VudGVyKSQvaS50ZXN0KHRoaXMuX29wdGlvbnMudmVydGljYWxQb3NpdGlvbikpIHsKICAgICAgICBzdGFydHkgPSB0aGlzLl9oZWlnaHQgLyAyOwogICAgICB9IGVsc2UgaWYgKC9eKGJvdHRvbXxtYXgpJC9pLnRlc3QodGhpcy5fb3B0aW9ucy52ZXJ0aWNhbFBvc2l0aW9uKSkgewogICAgICAgIHN0YXJ0eSA9IHRoaXMuX2hlaWdodCAtIGhpZGU7CiAgICAgIH0gLy8gcmliYm9uIHNlY3Rpb25zIGRhdGEKCgogICAgICB2YXIgcmliYm9uID0gW10sCiAgICAgICAgICBwb2ludDEgPSBuZXcgUG9pbnQoc3RhcnR4LCBzdGFydHkpLAogICAgICAgICAgcG9pbnQyID0gbmV3IFBvaW50KHN0YXJ0eCwgc3RhcnR5KSwKICAgICAgICAgIHBvaW50MyA9IG51bGwsCiAgICAgICAgICBjb2xvciA9IE1hdGgucm91bmQocmFuZG9tKDAsIDM2MCkpLAogICAgICAgICAgZGVsYXkgPSAwOyAvLyBidWlscyByaWJib24gc2VjdGlvbnMKCiAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgaWYgKHN0b3AgPD0gMCkgYnJlYWs7CiAgICAgICAgc3RvcC0tOwogICAgICAgIG1vdmV4ID0gTWF0aC5yb3VuZCgoTWF0aC5yYW5kb20oKSAqIDEgLSAwLjIpICogdGhpcy5fb3B0aW9ucy5ob3Jpem9udGFsU3BlZWQpOwogICAgICAgIG1vdmV5ID0gTWF0aC5yb3VuZCgoTWF0aC5yYW5kb20oKSAqIDEgLSAwLjUpICogKHRoaXMuX2hlaWdodCAqIDAuMjUpKTsKICAgICAgICBwb2ludDMgPSBuZXcgUG9pbnQoKTsKICAgICAgICBwb2ludDMuY29weShwb2ludDIpOwoKICAgICAgICBpZiAoZGlyID09PSAicmlnaHQiKSB7CiAgICAgICAgICBwb2ludDMuYWRkKG1vdmV4LCBtb3ZleSk7CiAgICAgICAgICBpZiAocG9pbnQyLnggPj0gbWF4KSBicmVhazsKICAgICAgICB9IGVsc2UgaWYgKGRpciA9PT0gImxlZnQiKSB7CiAgICAgICAgICBwb2ludDMuc3VidHJhY3QobW92ZXgsIG1vdmV5KTsKICAgICAgICAgIGlmIChwb2ludDIueCA8PSBtaW4pIGJyZWFrOwogICAgICAgIH0gLy8gcG9pbnQzLmNsYW1wWSggMCwgdGhpcy5faGVpZ2h0ICk7CgoKICAgICAgICByaWJib24ucHVzaCh7CiAgICAgICAgICAvLyBzaW5nbGUgcmliYm9uIHNlY3Rpb24KICAgICAgICAgIHBvaW50MTogbmV3IFBvaW50KHBvaW50MS54LCBwb2ludDEueSksCiAgICAgICAgICBwb2ludDI6IG5ldyBQb2ludChwb2ludDIueCwgcG9pbnQyLnkpLAogICAgICAgICAgcG9pbnQzOiBwb2ludDMsCiAgICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgICBkZWxheTogZGVsYXksCiAgICAgICAgICBkaXI6IGRpciwKICAgICAgICAgIGFscGhhOiAwLAogICAgICAgICAgcGhhc2U6IDAKICAgICAgICB9KTsKICAgICAgICBwb2ludDEuY29weShwb2ludDIpOwogICAgICAgIHBvaW50Mi5jb3B5KHBvaW50Myk7CiAgICAgICAgZGVsYXkgKz0gNDsKICAgICAgICBjb2xvciArPSB0aGlzLl9vcHRpb25zLmNvbG9yQ3ljbGVTcGVlZDsKICAgICAgfQoKICAgICAgdGhpcy5fcmliYm9ucy5wdXNoKHJpYmJvbik7CiAgICB9LAogICAgLy8gRHJhdyBzaW5nbGUgc2VjdGlvbgogICAgX2RyYXdSaWJib25TZWN0aW9uOiBmdW5jdGlvbiBfZHJhd1JpYmJvblNlY3Rpb24oc2VjdGlvbikgewogICAgICBpZiAoc2VjdGlvbikgewogICAgICAgIGlmIChzZWN0aW9uLnBoYXNlID49IDEgJiYgc2VjdGlvbi5hbHBoYSA8PSAwKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gZG9uZQogICAgICAgIH0KCiAgICAgICAgaWYgKHNlY3Rpb24uZGVsYXkgPD0gMCkgewogICAgICAgICAgc2VjdGlvbi5waGFzZSArPSAwLjAyOwogICAgICAgICAgc2VjdGlvbi5hbHBoYSA9IE1hdGguc2luKHNlY3Rpb24ucGhhc2UpICogMTsKICAgICAgICAgIHNlY3Rpb24uYWxwaGEgPSBzZWN0aW9uLmFscGhhIDw9IDAgPyAwIDogc2VjdGlvbi5hbHBoYTsKICAgICAgICAgIHNlY3Rpb24uYWxwaGEgPSBzZWN0aW9uLmFscGhhID49IDEgPyAxIDogc2VjdGlvbi5hbHBoYTsKCiAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5hbmltYXRlU2VjdGlvbnMpIHsKICAgICAgICAgICAgdmFyIG1vZCA9IE1hdGguc2luKDEgKyBzZWN0aW9uLnBoYXNlICogTWF0aC5QSSAvIDIpICogMC4xOwoKICAgICAgICAgICAgaWYgKHNlY3Rpb24uZGlyID09PSAicmlnaHQiKSB7CiAgICAgICAgICAgICAgc2VjdGlvbi5wb2ludDEuYWRkKG1vZCwgMCk7CiAgICAgICAgICAgICAgc2VjdGlvbi5wb2ludDIuYWRkKG1vZCwgMCk7CiAgICAgICAgICAgICAgc2VjdGlvbi5wb2ludDMuYWRkKG1vZCwgMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgc2VjdGlvbi5wb2ludDEuc3VidHJhY3QobW9kLCAwKTsKICAgICAgICAgICAgICBzZWN0aW9uLnBvaW50Mi5zdWJ0cmFjdChtb2QsIDApOwogICAgICAgICAgICAgIHNlY3Rpb24ucG9pbnQzLnN1YnRyYWN0KG1vZCwgMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNlY3Rpb24ucG9pbnQxLmFkZCgwLCBtb2QpOwogICAgICAgICAgICBzZWN0aW9uLnBvaW50Mi5hZGQoMCwgbW9kKTsKICAgICAgICAgICAgc2VjdGlvbi5wb2ludDMuYWRkKDAsIG1vZCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlY3Rpb24uZGVsYXkgLT0gMC41OwogICAgICAgIH0KCiAgICAgICAgdmFyIHMgPSB0aGlzLl9vcHRpb25zLmNvbG9yU2F0dXJhdGlvbiwKICAgICAgICAgICAgbCA9IHRoaXMuX29wdGlvbnMuY29sb3JCcmlnaHRuZXNzLAogICAgICAgICAgICBjID0gImhzbGEoIiArIHNlY3Rpb24uY29sb3IgKyAiLCAiICsgcyArICIsICIgKyBsICsgIiwgIiArIHNlY3Rpb24uYWxwaGEgKyAiICkiOwoKICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTsKCiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMucGFyYWxsYXhBbW91bnQgIT09IDApIHsKICAgICAgICAgIHRoaXMuX2NvbnRleHQudHJhbnNsYXRlKDAsIHRoaXMuX3Njcm9sbCAqIHRoaXMuX29wdGlvbnMucGFyYWxsYXhBbW91bnQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fY29udGV4dC5iZWdpblBhdGgoKTsKCiAgICAgICAgdGhpcy5fY29udGV4dC5tb3ZlVG8oc2VjdGlvbi5wb2ludDEueCwgc2VjdGlvbi5wb2ludDEueSk7CgogICAgICAgIHRoaXMuX2NvbnRleHQubGluZVRvKHNlY3Rpb24ucG9pbnQyLngsIHNlY3Rpb24ucG9pbnQyLnkpOwoKICAgICAgICB0aGlzLl9jb250ZXh0LmxpbmVUbyhzZWN0aW9uLnBvaW50My54LCBzZWN0aW9uLnBvaW50My55KTsKCiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBjOwoKICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGwoKTsKCiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuc3Ryb2tlU2l6ZSA+IDApIHsKICAgICAgICAgIHRoaXMuX2NvbnRleHQubGluZVdpZHRoID0gdGhpcy5fb3B0aW9ucy5zdHJva2VTaXplOwogICAgICAgICAgdGhpcy5fY29udGV4dC5zdHJva2VTdHlsZSA9IGM7CiAgICAgICAgICB0aGlzLl9jb250ZXh0LmxpbmVDYXAgPSAicm91bmQiOwoKICAgICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlKCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl9jb250ZXh0LnJlc3RvcmUoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOyAvLyBub3QgZG9uZSB5ZXQKICAgIH0sCiAgICAvLyBEcmF3IHJpYmJvbnMKICAgIF9vbkRyYXc6IGZ1bmN0aW9uIF9vbkRyYXcoKSB7CiAgICAgIC8vIGNsZWFudXAgb24gcmliYm9ucyBsaXN0IHRvIHJ0ZW1vdmVkIGZpbmlzaGVkIHJpYmJvbnMKICAgICAgZm9yICh2YXIgaSA9IDAsIHQgPSB0aGlzLl9yaWJib25zLmxlbmd0aDsgaSA8IHQ7ICsraSkgewogICAgICAgIGlmICghdGhpcy5fcmliYm9uc1tpXSkgewogICAgICAgICAgdGhpcy5fcmliYm9ucy5zcGxpY2UoaSwgMSk7CiAgICAgICAgfQogICAgICB9IC8vIGRyYXcgbmV3IHJpYmJvbnMKCgogICAgICB0aGlzLl9jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KTsKCiAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgdGhpcy5fcmliYm9ucy5sZW5ndGg7ICsrYSkgLy8gc2luZ2xlIHJpYmJvbgogICAgICB7CiAgICAgICAgdmFyIHJpYmJvbiA9IHRoaXMuX3JpYmJvbnNbYV0sCiAgICAgICAgICAgIG51bVNlY3Rpb25zID0gcmliYm9uLmxlbmd0aCwKICAgICAgICAgICAgbnVtRG9uZSA9IDA7CgogICAgICAgIGZvciAodmFyIGIgPSAwOyBiIDwgbnVtU2VjdGlvbnM7ICsrYikgLy8gcmliYm9uIHNlY3Rpb24KICAgICAgICB7CiAgICAgICAgICBpZiAodGhpcy5fZHJhd1JpYmJvblNlY3Rpb24ocmliYm9uW2JdKSkgewogICAgICAgICAgICBudW1Eb25lKys7IC8vIHNlY3Rpb24gZG9uZQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKG51bURvbmUgPj0gbnVtU2VjdGlvbnMpIC8vIHJpYmJvbiBkb25lCiAgICAgICAgICB7CiAgICAgICAgICAgIHRoaXMuX3JpYmJvbnNbYV0gPSBudWxsOwogICAgICAgICAgfQogICAgICB9IC8vIG1haW50YWluIG9wdGlvbmFsIG51bWJlciBvZiByaWJib25zIG9uIGNhbnZhcwoKCiAgICAgIGlmICh0aGlzLl9yaWJib25zLmxlbmd0aCA8IHRoaXMuX29wdGlvbnMucmliYm9uQ291bnQpIHsKICAgICAgICB0aGlzLmFkZFJpYmJvbigpOwogICAgICB9CgogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fb25EcmF3KTsKICAgIH0sCiAgICAvLyBVcGRhdGUgY29udGFpbmVyIHNpemUgaW5mbwogICAgX29uUmVzaXplOiBmdW5jdGlvbiBfb25SZXNpemUoZSkgewogICAgICB2YXIgc2NyZWVuID0gc2NyZWVuSW5mbyhlKTsKICAgICAgdGhpcy5fd2lkdGggPSBzY3JlZW4ud2lkdGg7CiAgICAgIHRoaXMuX2hlaWdodCA9IHNjcmVlbi5oZWlnaHQ7CgogICAgICBpZiAodGhpcy5fY2FudmFzKSB7CiAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gdGhpcy5fd2lkdGg7CiAgICAgICAgdGhpcy5fY2FudmFzLmhlaWdodCA9IHRoaXMuX2hlaWdodDsKCiAgICAgICAgaWYgKHRoaXMuX2NvbnRleHQpIHsKICAgICAgICAgIHRoaXMuX2NvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLl9vcHRpb25zLmNvbG9yQWxwaGE7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8gVXBkYXRlIGNvbnRhaW5lciBzaXplIGluZm8KICAgIF9vblNjcm9sbDogZnVuY3Rpb24gX29uU2Nyb2xsKGUpIHsKICAgICAgdmFyIHNjcmVlbiA9IHNjcmVlbkluZm8oZSk7CiAgICAgIHRoaXMuX3Njcm9sbCA9IHNjcmVlbi5zY3JvbGx5OwogICAgfQogIH07IC8vIGV4cG9ydAoKICByZXR1cm4gRmFjdG9yeTsKfSk7CgpleHBvcnQgZGVmYXVsdCBSaWJib25zOw=="},{"version":3,"sources":["D:/mygithub/myblogs/node_modules/vuepress-plugin-ribbon-animation/bin/ribbon.js"],"names":["name","factory","window","_w","_b","document","body","_d","documentElement","random","arguments","length","Array","isArray","index","Math","round","screenInfo","e","width","max","innerWidth","clientWidth","height","innerHeight","clientHeight","scrollx","pageXOffset","scrollLeft","clientLeft","scrolly","pageYOffset","scrollTop","clientTop","ratio","centerx","centery","mouseInfo","screen","mousex","pageX","clientX","mousey","pageY","clientY","Point","x","y","set","prototype","constructor","copy","point","multiply","divide","add","subtract","clampX","min","clampY","flipX","flipY","Factory","options","console","log","_canvas","_context","_sto","_width","_height","_scroll","_ribbons","_options","_onDraw","bind","_onResize","_onScroll","setOptions","init","key","hasOwnProperty","createElement","style","id","getContext","clearRect","globalAlpha","colorAlpha","addEventListener","appendChild","warn","toString","addRibbon","dir","stop","hide","movex","movey","startx","starty","test","verticalPosition","ribbon","point1","point2","point3","color","delay","horizontalSpeed","push","alpha","phase","colorCycleSpeed","_drawRibbonSection","section","sin","animateSections","mod","PI","s","colorSaturation","l","colorBrightness","c","save","parallaxAmount","translate","beginPath","moveTo","lineTo","fillStyle","fill","strokeSize","lineWidth","strokeStyle","lineCap","stroke","restore","i","t","splice","a","numSections","numDone","b","ribbonCount","requestAnimationFrame","Ribbons"],"mappings":"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","sourcesContent":["/**\r\n * Ribbons Class File.\r\n * Creates low-poly ribbons background effect inside a target container.\r\n */\r\n(function (name, factory)\r\n{\r\n    if (typeof window === \"object\")\r\n    {\r\n        window[name] = factory();\r\n    }\r\n\r\n})(\"Ribbons\", function ()\r\n{\r\n    var _w = window,\r\n    _b = document.body,//返回html dom中的body节点 即<body>\r\n    _d = document.documentElement;//返回html dom中的root 节点 即<html>\r\n\r\n    // random helper\r\n    var random = function ()\r\n    {\r\n        if (arguments.length === 1) // only 1 argument\r\n            {\r\n                if (Array.isArray(arguments[0])) // extract index from array\r\n                    {\r\n                        var index = Math.round(random(0, arguments[0].length - 1));\r\n                        return arguments[0][index];\r\n                    }\r\n                return random(0, arguments[0]); // assume numeric\r\n            } else\r\n        if (arguments.length === 2) // two arguments range\r\n            {\r\n                return Math.random() * (arguments[1] - arguments[0]) + arguments[0];\r\n            }\r\n        return 0; // default\r\n    };\r\n\r\n    // screen helper\r\n    var screenInfo = function (e)\r\n    {\r\n        var width = Math.max(0, _w.innerWidth || _d.clientWidth || _b.clientWidth || 0),\r\n        height = Math.max(0, _w.innerHeight || _d.clientHeight || _b.clientHeight || 0),\r\n        scrollx = Math.max(0, _w.pageXOffset || _d.scrollLeft || _b.scrollLeft || 0) - (_d.clientLeft || 0),\r\n        scrolly = Math.max(0, _w.pageYOffset || _d.scrollTop || _b.scrollTop || 0) - (_d.clientTop || 0);\r\n\r\n        return {\r\n            width: width,\r\n            height: height,\r\n            ratio: width / height,\r\n            centerx: width / 2,\r\n            centery: height / 2,\r\n            scrollx: scrollx,\r\n            scrolly: scrolly };\r\n\r\n    };\r\n\r\n    // mouse/input helper\r\n    var mouseInfo = function (e)\r\n    {\r\n        var screen = screenInfo(e),\r\n        mousex = e ? Math.max(0, e.pageX || e.clientX || 0) : 0,\r\n        mousey = e ? Math.max(0, e.pageY || e.clientY || 0) : 0;\r\n\r\n        return {\r\n            mousex: mousex,\r\n            mousey: mousey,\r\n            centerx: mousex - screen.width / 2,\r\n            centery: mousey - screen.height / 2 };\r\n\r\n    };\r\n\r\n    // point object\r\n    var Point = function (x, y)\r\n    {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.set(x, y);\r\n    };\r\n    Point.prototype = {\r\n        constructor: Point,\r\n\r\n        set: function (x, y)\r\n        {\r\n            this.x = x || 0;\r\n            this.y = y || 0;\r\n        },\r\n        copy: function (point)\r\n        {\r\n            this.x = point.x || 0;\r\n            this.y = point.y || 0;\r\n            return this;\r\n        },\r\n        multiply: function (x, y)\r\n        {\r\n            this.x *= x || 1;\r\n            this.y *= y || 1;\r\n            return this;\r\n        },\r\n        divide: function (x, y)\r\n        {\r\n            this.x /= x || 1;\r\n            this.y /= y || 1;\r\n            return this;\r\n        },\r\n        add: function (x, y)\r\n        {\r\n            this.x += x || 0;\r\n            this.y += y || 0;\r\n            return this;\r\n        },\r\n        subtract: function (x, y)\r\n        {\r\n            this.x -= x || 0;\r\n            this.y -= y || 0;\r\n            return this;\r\n        },\r\n        clampX: function (min, max)\r\n        {\r\n            this.x = Math.max(min, Math.min(this.x, max));\r\n            return this;\r\n        },\r\n        clampY: function (min, max)\r\n        {\r\n            this.y = Math.max(min, Math.min(this.y, max));\r\n            return this;\r\n        },\r\n        flipX: function ()\r\n        {\r\n            this.x *= -1;\r\n            return this;\r\n        },\r\n        flipY: function ()\r\n        {\r\n            this.y *= -1;\r\n            return this;\r\n        } };\r\n\r\n\r\n    // class constructor\r\n    var Factory = function (options)\r\n    {\r\n        console.log(options)\r\n        this._canvas = null;\r\n        this._context = null;\r\n        this._sto = null;\r\n        this._width = 0;\r\n        this._height = 0;\r\n        this._scroll = 0;\r\n        this._ribbons = [];\r\n        this._options = options;\r\n\r\n        this._onDraw = this._onDraw.bind(this);\r\n        this._onResize = this._onResize.bind(this);\r\n        this._onScroll = this._onScroll.bind(this);\r\n        this.setOptions(options);\r\n        this.init();\r\n    };\r\n\r\n    // class prototype\r\n    Factory.prototype = {\r\n        constructor: Factory,\r\n\r\n        // Set and merge local options\r\n        setOptions: function (options)\r\n        {\r\n            if (typeof options === \"object\")\r\n            {\r\n                for (var key in options)\r\n                {\r\n                    if (options.hasOwnProperty(key))\r\n                    {\r\n                        this._options[key] = options[key];\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        // Initialize the ribbons effect\r\n        init: function ()\r\n        {\r\n            try\r\n            {\r\n                this._canvas = document.createElement(\"canvas\");\r\n                this._canvas.style[\"display\"] = \"block\";\r\n                this._canvas.style[\"position\"] = \"fixed\";\r\n                this._canvas.style[\"margin\"] = \"0\";\r\n                this._canvas.style[\"padding\"] = \"0\";\r\n                this._canvas.style[\"border\"] = \"0\";\r\n                this._canvas.style[\"outline\"] = \"0\";\r\n                this._canvas.style[\"left\"] = \"0\";\r\n               \tthis._canvas.style[\"top\"] = \"0\";\r\n               \tthis._canvas.style[\"width\"] = \"100%\";\r\n               \tthis._canvas.style[\"height\"] = \"100%\";\r\n                this._canvas.style[\"z-index\"] = \"-1\";\r\n\t\t\t\t// this._canvas.style[\"background-color\"]=\"#1f1f1f\";\r\n                this._canvas.id = \"bgCanvas\";\r\n                this._onResize();\r\n\r\n                this._context = this._canvas.getContext(\"2d\");\r\n                this._context.clearRect(0, 0, this._width, this._height);\r\n                this._context.globalAlpha = this._options.colorAlpha;\r\n\r\n                window.addEventListener(\"resize\", this._onResize);\r\n                window.addEventListener(\"scroll\", this._onScroll);\r\n                document.body.appendChild(this._canvas);\r\n            }\r\n            catch (e) {\r\n                console.warn(\"Canvas Context Error: \" + e.toString());\r\n                return;\r\n            }\r\n            this._onDraw();\r\n        },\r\n\r\n        // Create a new random ribbon and to the list\r\n        addRibbon: function ()\r\n        {\r\n            // movement data\r\n            var dir = Math.round(random(1, 9)) > 5 ? \"right\" : \"left\",\r\n            stop = 1000,\r\n            hide = 200,\r\n            min = 0 - hide,\r\n            max = this._width + hide,\r\n            movex = 0,\r\n            movey = 0,\r\n            startx = dir === \"right\" ? min : max,\r\n            starty = Math.round(random(0, this._height));\r\n\r\n            // asjust starty based on options\r\n            if (/^(top|min)$/i.test(this._options.verticalPosition))\r\n            {\r\n                starty = 0 + hide;\r\n            } else\r\n            if (/^(middle|center)$/i.test(this._options.verticalPosition))\r\n            {\r\n                starty = this._height / 2;\r\n            } else\r\n            if (/^(bottom|max)$/i.test(this._options.verticalPosition))\r\n            {\r\n                starty = this._height - hide;\r\n            }\r\n\r\n            // ribbon sections data\r\n            var ribbon = [],\r\n            point1 = new Point(startx, starty),\r\n            point2 = new Point(startx, starty),\r\n            point3 = null,\r\n            color = Math.round(random(0, 360)),\r\n            delay = 0;\r\n\r\n            // buils ribbon sections\r\n            while (true)\r\n            {\r\n                if (stop <= 0) break;stop--;\r\n\r\n                movex = Math.round((Math.random() * 1 - 0.2) * this._options.horizontalSpeed);\r\n                movey = Math.round((Math.random() * 1 - 0.5) * (this._height * 0.25));\r\n\r\n                point3 = new Point();\r\n                point3.copy(point2);\r\n\r\n                if (dir === \"right\")\r\n                {\r\n                    point3.add(movex, movey);\r\n                    if (point2.x >= max) break;\r\n                } else\r\n                if (dir === \"left\")\r\n                {\r\n                    point3.subtract(movex, movey);\r\n                    if (point2.x <= min) break;\r\n                }\r\n                // point3.clampY( 0, this._height );\r\n\r\n                ribbon.push({ // single ribbon section\r\n                    point1: new Point(point1.x, point1.y),\r\n                    point2: new Point(point2.x, point2.y),\r\n                    point3: point3,\r\n                    color: color,\r\n                    delay: delay,\r\n                    dir: dir,\r\n                    alpha: 0,\r\n                    phase: 0 });\r\n\r\n\r\n                point1.copy(point2);\r\n                point2.copy(point3);\r\n\r\n                delay += 4;\r\n                color += this._options.colorCycleSpeed;\r\n            }\r\n            this._ribbons.push(ribbon);\r\n        },\r\n\r\n        // Draw single section\r\n        _drawRibbonSection: function (section)\r\n        {\r\n            if (section)\r\n            {\r\n                if (section.phase >= 1 && section.alpha <= 0)\r\n                {\r\n                    return true; // done\r\n                }\r\n                if (section.delay <= 0)\r\n                {\r\n                    section.phase += 0.02;\r\n                    section.alpha = Math.sin(section.phase) * 1;\r\n                    section.alpha = section.alpha <= 0 ? 0 : section.alpha;\r\n                    section.alpha = section.alpha >= 1 ? 1 : section.alpha;\r\n\r\n                    if (this._options.animateSections)\r\n                    {\r\n                        var mod = Math.sin(1 + section.phase * Math.PI / 2) * 0.1;\r\n\r\n                        if (section.dir === \"right\")\r\n                        {\r\n                            section.point1.add(mod, 0);\r\n                            section.point2.add(mod, 0);\r\n                            section.point3.add(mod, 0);\r\n                        } else {\r\n                            section.point1.subtract(mod, 0);\r\n                            section.point2.subtract(mod, 0);\r\n                            section.point3.subtract(mod, 0);\r\n                        }\r\n                        section.point1.add(0, mod);\r\n                        section.point2.add(0, mod);\r\n                        section.point3.add(0, mod);\r\n                    }\r\n                } else\r\n                {section.delay -= 0.5;}\r\n\r\n                var s = this._options.colorSaturation,\r\n                l = this._options.colorBrightness,\r\n                c = \"hsla(\" + section.color + \", \" + s + \", \" + l + \", \" + section.alpha + \" )\";\r\n\r\n                this._context.save();\r\n\r\n                if (this._options.parallaxAmount !== 0)\r\n                {\r\n                    this._context.translate(0, this._scroll * this._options.parallaxAmount);\r\n                }\r\n                this._context.beginPath();\r\n                this._context.moveTo(section.point1.x, section.point1.y);\r\n                this._context.lineTo(section.point2.x, section.point2.y);\r\n                this._context.lineTo(section.point3.x, section.point3.y);\r\n                this._context.fillStyle = c;\r\n                this._context.fill();\r\n\r\n                if (this._options.strokeSize > 0)\r\n                {\r\n                    this._context.lineWidth = this._options.strokeSize;\r\n                    this._context.strokeStyle = c;\r\n                    this._context.lineCap = \"round\";\r\n                    this._context.stroke();\r\n                }\r\n                this._context.restore();\r\n            }\r\n            return false; // not done yet\r\n        },\r\n\r\n        // Draw ribbons\r\n        _onDraw: function ()\r\n        {\r\n            // cleanup on ribbons list to rtemoved finished ribbons\r\n            for (var i = 0, t = this._ribbons.length; i < t; ++i)\r\n            {\r\n                if (!this._ribbons[i])\r\n                {\r\n                    this._ribbons.splice(i, 1);\r\n                }\r\n            }\r\n\r\n            // draw new ribbons\r\n            this._context.clearRect(0, 0, this._width, this._height);\r\n\r\n            for (var a = 0; a < this._ribbons.length; ++a) // single ribbon\r\n            {\r\n                var ribbon = this._ribbons[a],\r\n                numSections = ribbon.length,\r\n                numDone = 0;\r\n\r\n                for (var b = 0; b < numSections; ++b) // ribbon section\r\n                {\r\n                    if (this._drawRibbonSection(ribbon[b]))\r\n                    {\r\n                        numDone++; // section done\r\n                    }\r\n                }\r\n                if (numDone >= numSections) // ribbon done\r\n                    {\r\n                        this._ribbons[a] = null;\r\n                    }\r\n            }\r\n            // maintain optional number of ribbons on canvas\r\n            if (this._ribbons.length < this._options.ribbonCount)\r\n            {\r\n                this.addRibbon();\r\n            }\r\n            requestAnimationFrame(this._onDraw);\r\n        },\r\n\r\n        // Update container size info\r\n        _onResize: function (e)\r\n        {\r\n            var screen = screenInfo(e);\r\n            this._width = screen.width;\r\n            this._height = screen.height;\r\n\r\n            if (this._canvas)\r\n            {\r\n                this._canvas.width = this._width;\r\n                this._canvas.height = this._height;\r\n\r\n                if (this._context)\r\n                {\r\n                    this._context.globalAlpha = this._options.colorAlpha;\r\n                }\r\n            }\r\n        },\r\n\r\n        // Update container size info\r\n        _onScroll: function (e)\r\n        {\r\n            var screen = screenInfo(e);\r\n            this._scroll = screen.scrolly;\r\n        } };\r\n    // export\r\n    return Factory;\r\n});\r\nexport default Ribbons\r\n"]}]}