{"remainingRequest":"D:\\mygithub\\mydocs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mygithub\\mydocs\\node_modules\\vuepress-plugin-helper-live2d\\lib\\Live2d.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mygithub\\mydocs\\node_modules\\vuepress-plugin-helper-live2d\\lib\\Live2d.vue","mtime":499162500000},{"path":"D:\\mygithub\\mydocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mygithub\\mydocs\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\mygithub\\mydocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mygithub\\mydocs\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovKiDlr7zlhaXnnIvmnb/lqJhqcyAqLw0KaW1wb3J0ICIuLi9saWJzL2xpdmUyZC5qcyI7DQoNCmNvbnN0IHBhdGggPSByZXF1aXJlKCJwYXRoIik7DQovLyBjb25zdCBsaXZlMmRfd2lkZ2V0ID0gcmVxdWlyZSgibGl2ZTJkLXdpZGdldCIpOw0KLy8gY29uc3QgbGl2ZTJkX3dpZGdldCA9IHJlcXVpcmUoIi4uL2xpYnMvbGl2ZTJkL0wyRHdpZGdldC5jb21tb24uanMiKTsNCi8vIGltcG9ydCB7IExpdmUyZCB9IGZyb20gIi4uL2xpYnMvbGl2ZTJkL0wyRHdpZGdldC5taW4uanMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHt9LA0KICBtZXRob2RzOiB7DQogICAgLyoqIOWIpOaWreaYr+WQpuaYr+eUteiEkeerr+iuv+mXriAqLw0KICAgIGlzUEMoKSB7DQogICAgICBsZXQgdXNlckFnZW50SW5mbyA9IG5hdmlnYXRvci51c2VyQWdlbnQgfHwgIiI7DQogICAgICBjb25zdCBBZ2VudHMgPSBbDQogICAgICAgICJBbmRyb2lkIiwNCiAgICAgICAgImlQaG9uZSIsDQogICAgICAgICJTeW1iaWFuT1MiLA0KICAgICAgICAiV2luZG93cyBQaG9uZSIsDQogICAgICAgICJpUGFkIiwNCiAgICAgICAgImlQb2QiDQogICAgICBdOw0KICAgICAgbGV0IGZsYWcgPSB0cnVlOw0KICAgICAgZm9yIChsZXQgdiA9IDA7IHYgPCBBZ2VudHMubGVuZ3RoOyB2KyspIHsNCiAgICAgICAgaWYgKHVzZXJBZ2VudEluZm8uaW5kZXhPZihBZ2VudHNbdl0pID4gMCkgew0KICAgICAgICAgIGZsYWcgPSBmYWxzZTsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIGZsYWc7DQogICAgfSwNCiAgICAvLyDnlJ/miJBkaXbmoLflvI8NCiAgICBnZW5lcmF0ZURpdlN0eWxlKGRpdlN0eWxlID0ge30pIHsNCiAgICAgIC8vIOeUn+aIkOagt+W8j2pzb24NCiAgICAgIGRpdlN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsNCiAgICAgIGRpdlN0eWxlW3RoaXMuY29uZmlnLmRpc3BsYXkucG9zaXRpb25dID0NCiAgICAgICAgdGhpcy5jb25maWcuZGlzcGxheS5oT2Zmc2V0ICsgInB4IjsNCiAgICAgIGRpdlN0eWxlLmJvdHRvbSA9IHRoaXMuY29uZmlnLmRpc3BsYXkudk9mZnNldCArICJweCI7DQogICAgICBkaXZTdHlsZS53aWR0aCA9IHRoaXMuY29uZmlnLmRpc3BsYXkud2lkdGggKyAicHgiOw0KICAgICAgZGl2U3R5bGUuaGVpZ2h0ID0gdGhpcy5jb25maWcuZGlzcGxheS5oZWlnaHQgKyAicHgiOw0KICAgICAgZGl2U3R5bGVbInotaW5kZXgiXSA9IDk5OTk5Ow0KICAgICAgZGl2U3R5bGVbIm9wYWNpdHkiXSA9IHRoaXMuY29uZmlnLnJlYWN0Lm9wYWNpdHk7DQogICAgICBkaXZTdHlsZVsicG9pbnRlci1ldmVudHMiXSA9ICJub25lIjsNCiAgICAgIC8vIHRoaXMubGl2ZTJkX2xvZyhkaXZTdHlsZSkNCiAgICAgIHJldHVybiBkaXZTdHlsZTsNCiAgICB9LA0KICAgIC8vIOeUn+aIkGNhbnZhc+agt+W8jw0KICAgIGdlbmVyYXRlQ2FudmFzU3R5bGUoY2FudmFzU3R5bGUgPSB7fSkgew0KICAgICAgLy8g55Sf5oiQ5qC35byPanNvbg0KICAgICAgY2FudmFzU3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOw0KICAgICAgY2FudmFzU3R5bGVbImxlZnQiXSA9ICIwcHgiOw0KICAgICAgY2FudmFzU3R5bGVbInRvcCJdID0gIjBweCI7DQogICAgICBjYW52YXNTdHlsZS53aWR0aCA9IHRoaXMuY29uZmlnLmRpc3BsYXkud2lkdGggKyAicHgiOw0KICAgICAgY2FudmFzU3R5bGUuaGVpZ2h0ID0gdGhpcy5jb25maWcuZGlzcGxheS5oZWlnaHQgKyAicHgiOw0KICAgICAgLy8gY2FudmFzU3R5bGVbInotaW5kZXgiXSA9IDk5OTk5Ow0KICAgICAgLy8gdGhpcy5saXZlMmRfbG9nKGNhbnZhc1N0eWxlKTsNCiAgICAgIHJldHVybiBjYW52YXNTdHlsZTsNCiAgICB9LA0KICAgIC8vIOe7n+S4gOi+k+WHuuaXpeW/lw0KICAgIGxpdmUyZF9sb2coc3RyID0gdGhpcy5vcHRpb25zLnBsdWdpbk5hbWUpIHsNCiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9nKSB7DQogICAgICAgIGNvbnNvbGUubG9nICYmIGNvbnNvbGUubG9nKHN0cik7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIG9wdGlvbnMoKSB7DQogICAgICByZXR1cm4gSlNPTi5wYXJzZSA/IEpTT04ucGFyc2UoT1BUSU9OUykgOiBPUFRJT05TOw0KICAgIH0sDQogICAgY29uZmlnKCkgew0KICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5saXZlMmQ7DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDmuLLmn5PnmoRET03lhYPntKBpZA0KICAgICAgZWxlbWVudE5hbWU6ICJsaXZlMmRfY2FudmFzIiwNCiAgICAgIC8vIOeJueWumueahOaooeWei2pzb27mlofku7blkI3np7ANCiAgICAgIG1vZGVsUGF0aEpzb246IHsNCiAgICAgICAgZXBzaWxvbjJfMTogIkVwc2lsb24yLjEiLA0KICAgICAgICBnZjogIkdhbnR6ZXJ0X0ZlbGl4YW5kZXIiLA0KICAgICAgICAiaGFydS8wMSI6ICJoYXJ1MDEiLA0KICAgICAgICAiaGFydS8wMiI6ICJoYXJ1MDIiLA0KICAgICAgICBuaWV0enNjaGU6ICJuaWV0emNoZSINCiAgICAgIH0NCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMubGl2ZTJkX2xvZygNCiAgICAgIHRoaXMuJGhlbHBlckxpdmUyZEFwcERlc2NyaXB0aW9uICsgIiDinqHvuI8gIiArIHRoaXMuJGhlbHBlckxpdmUyZEFwcE5hbWUgKyAiIOKeoe+4jyAiICsgdGhpcy4kaGVscGVyTGl2ZTJkQXBwVXJsDQogICAgKTsNCiAgICAvKiBsaXZlMmRfd2lkZ2V0LkwyRHdpZGdldC5pbml0KHsNCiAgICAgIG1vZGVsOiB7DQogICAgICAgIGpzb25QYXRoOiB0aGlzLiR3aXRoQmFzZSgNCiAgICAgICAgICBwYXRoLmpvaW4oDQogICAgICAgICAgICAiLyIsDQogICAgICAgICAgICB0aGlzLm9wdGlvbnMub3V0RGlyTmFtZSwNCiAgICAgICAgICAgIHRoaXMuY29uZmlnLm1vZGVsLA0KICAgICAgICAgICAgdGhpcy5jb25maWcucGx1Z2luTW9kZWxQYXRoLA0KICAgICAgICAgICAgdGhpcy5jb25maWcubW9kZWwgKyAiLm1vZGVsLmpzb24iDQogICAgICAgICAgKQ0KICAgICAgICApDQogICAgICB9DQogICAgfSk7ICovDQogICAgaWYgKHRoaXMuY29uZmlnICYmIHRoaXMuY29uZmlnLmVuYWJsZSkgew0KICAgICAgLy8g5piv5ZCm5pi+56S655yL5p2/5aiYDQogICAgICBsZXQgaXNTaG93ID0gdHJ1ZTsNCiAgICAgIC8vIHRoaXMubGl2ZTJkX2xvZyh0aGlzLmNvbmZpZyk7DQogICAgICBpZiAoIXRoaXMuY29uZmlnLm1vYmlsZS5zaG93ICYmICF0aGlzLmlzUEMoKSkgew0KICAgICAgICAvLyDmiYvmnLrnq6/kuI3mmL7npLoNCiAgICAgICAgaXNTaG93ID0gZmFsc2U7DQogICAgICB9DQogICAgICAvLyDnibnlrprnmoTmqKHlnotqc29u5paH5Lu25ZCN56ewDQogICAgICBsZXQgbW9kZWxQYXRoID0gdGhpcy5jb25maWcubW9kZWw7DQogICAgICBpZiAodGhpcy5tb2RlbFBhdGhKc29uW3RoaXMuY29uZmlnLm1vZGVsXSkgew0KICAgICAgICBtb2RlbFBhdGggPSB0aGlzLm1vZGVsUGF0aEpzb25bdGhpcy5jb25maWcubW9kZWxdOw0KICAgICAgfQ0KICAgICAgaXNTaG93ICYmDQogICAgICAgIGxvYWRsaXZlMmQgJiYNCiAgICAgICAgLy8gdGhpcy4kd2l0aEJhc2Xlj6rlr7nlvIDlpLTkuLov55qE6Lev5b6E55Sf5pWIDQogICAgICAgIC8vIChwYWNrYWdlc1xAdnVlcHJlc3NcY29yZVxsaWJcY2xpZW50XGFwcC5qcykNCiAgICAgICAgLy8gdGhpcy4kc2l0ZS5iYXNlDQogICAgICAgIC8vIGNvbnNvbGUubG9nKGB0aGlzLiRzaXRlLmJhc2Uke3RoaXMuJHNpdGUuYmFzZX1gKTsNCiAgICAgICAgbG9hZGxpdmUyZCgNCiAgICAgICAgICB0aGlzLmVsZW1lbnROYW1lLA0KICAgICAgICAgIHRoaXMuJHdpdGhCYXNlKA0KICAgICAgICAgICAgcGF0aC5qb2luKA0KICAgICAgICAgICAgICAiLyIsDQogICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vdXREaXJOYW1lLA0KICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbCwNCiAgICAgICAgICAgICAgdGhpcy5jb25maWcucGx1Z2luTW9kZWxQYXRoLA0KICAgICAgICAgICAgICBtb2RlbFBhdGggKyAiLm1vZGVsLmpzb24iDQogICAgICAgICAgICApDQogICAgICAgICAgKQ0KICAgICAgICApOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Live2d.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Live2d.vue","sourceRoot":"node_modules/vuepress-plugin-helper-live2d/lib","sourcesContent":["<template>\r\n  <div id=\"live2d-widget\" class=\"live2d-widget-container\" :style=\"this.generateDivStyle()\">\r\n    <canvas\r\n      v-if=\"config && config.enable\"\r\n      :id=\"this.elementName\"\r\n      :style=\"this.generateCanvasStyle()\"\r\n      :width=\"config.display.width\"\r\n      :height=\"config.display.height\"\r\n      :class=\"this.elementName\"\r\n    ></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* 导入看板娘js */\r\nimport \"../libs/live2d.js\";\r\n\r\nconst path = require(\"path\");\r\n// const live2d_widget = require(\"live2d-widget\");\r\n// const live2d_widget = require(\"../libs/live2d/L2Dwidget.common.js\");\r\n// import { Live2d } from \"../libs/live2d/L2Dwidget.min.js\";\r\n\r\nexport default {\r\n  components: {},\r\n  methods: {\r\n    /** 判断是否是电脑端访问 */\r\n    isPC() {\r\n      let userAgentInfo = navigator.userAgent || \"\";\r\n      const Agents = [\r\n        \"Android\",\r\n        \"iPhone\",\r\n        \"SymbianOS\",\r\n        \"Windows Phone\",\r\n        \"iPad\",\r\n        \"iPod\"\r\n      ];\r\n      let flag = true;\r\n      for (let v = 0; v < Agents.length; v++) {\r\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\r\n          flag = false;\r\n          break;\r\n        }\r\n      }\r\n      return flag;\r\n    },\r\n    // 生成div样式\r\n    generateDivStyle(divStyle = {}) {\r\n      // 生成样式json\r\n      divStyle.position = \"fixed\";\r\n      divStyle[this.config.display.position] =\r\n        this.config.display.hOffset + \"px\";\r\n      divStyle.bottom = this.config.display.vOffset + \"px\";\r\n      divStyle.width = this.config.display.width + \"px\";\r\n      divStyle.height = this.config.display.height + \"px\";\r\n      divStyle[\"z-index\"] = 99999;\r\n      divStyle[\"opacity\"] = this.config.react.opacity;\r\n      divStyle[\"pointer-events\"] = \"none\";\r\n      // this.live2d_log(divStyle)\r\n      return divStyle;\r\n    },\r\n    // 生成canvas样式\r\n    generateCanvasStyle(canvasStyle = {}) {\r\n      // 生成样式json\r\n      canvasStyle.position = \"absolute\";\r\n      canvasStyle[\"left\"] = \"0px\";\r\n      canvasStyle[\"top\"] = \"0px\";\r\n      canvasStyle.width = this.config.display.width + \"px\";\r\n      canvasStyle.height = this.config.display.height + \"px\";\r\n      // canvasStyle[\"z-index\"] = 99999;\r\n      // this.live2d_log(canvasStyle);\r\n      return canvasStyle;\r\n    },\r\n    // 统一输出日志\r\n    live2d_log(str = this.options.pluginName) {\r\n      if (this.options.log) {\r\n        console.log && console.log(str);\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    options() {\r\n      return JSON.parse ? JSON.parse(OPTIONS) : OPTIONS;\r\n    },\r\n    config() {\r\n      return this.options.live2d;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 渲染的DOM元素id\r\n      elementName: \"live2d_canvas\",\r\n      // 特定的模型json文件名称\r\n      modelPathJson: {\r\n        epsilon2_1: \"Epsilon2.1\",\r\n        gf: \"Gantzert_Felixander\",\r\n        \"haru/01\": \"haru01\",\r\n        \"haru/02\": \"haru02\",\r\n        nietzsche: \"nietzche\"\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.live2d_log(\r\n      this.$helperLive2dAppDescription + \" ➡️ \" + this.$helperLive2dAppName + \" ➡️ \" + this.$helperLive2dAppUrl\r\n    );\r\n    /* live2d_widget.L2Dwidget.init({\r\n      model: {\r\n        jsonPath: this.$withBase(\r\n          path.join(\r\n            \"/\",\r\n            this.options.outDirName,\r\n            this.config.model,\r\n            this.config.pluginModelPath,\r\n            this.config.model + \".model.json\"\r\n          )\r\n        )\r\n      }\r\n    }); */\r\n    if (this.config && this.config.enable) {\r\n      // 是否显示看板娘\r\n      let isShow = true;\r\n      // this.live2d_log(this.config);\r\n      if (!this.config.mobile.show && !this.isPC()) {\r\n        // 手机端不显示\r\n        isShow = false;\r\n      }\r\n      // 特定的模型json文件名称\r\n      let modelPath = this.config.model;\r\n      if (this.modelPathJson[this.config.model]) {\r\n        modelPath = this.modelPathJson[this.config.model];\r\n      }\r\n      isShow &&\r\n        loadlive2d &&\r\n        // this.$withBase只对开头为/的路径生效\r\n        // (packages\\@vuepress\\core\\lib\\client\\app.js)\r\n        // this.$site.base\r\n        // console.log(`this.$site.base${this.$site.base}`);\r\n        loadlive2d(\r\n          this.elementName,\r\n          this.$withBase(\r\n            path.join(\r\n              \"/\",\r\n              this.options.outDirName,\r\n              this.config.model,\r\n              this.config.pluginModelPath,\r\n              modelPath + \".model.json\"\r\n            )\r\n          )\r\n        );\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"stylus\">\r\n// @import '../styles/helper-live2d.styl'\r\n</style>"]}]}