{"remainingRequest":"D:\\mygithub\\myblogs\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\mygithub\\myblogs\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\mygithub\\myblogs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mygithub\\myblogs\\node_modules\\vue-canvas-effect\\src\\components\\bubbles\\bubbles.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mygithub\\myblogs\\node_modules\\vue-canvas-effect\\src\\components\\bubbles\\bubbles.vue","mtime":1517128974000},{"path":"D:\\mygithub\\myblogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mygithub\\myblogs\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\mygithub\\myblogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mygithub\\myblogs\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1wcmVjaXNpb24uanMiOwoKLy8KLy8KLy8KcmVxdWlyZSgnY29tdXRpbHMvYW5pbWF0aW9uRnJhbWUnKSgpOwoKaW1wb3J0IHJlc2l6ZSBmcm9tICcuLi8uLi91dGlsL3Jlc2l6ZSc7Cgp2YXIgY29weU9iaiA9IHJlcXVpcmUoJ2NvbXV0aWxzL2NvcHlPYmonKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYnViYmxlc0VmZmVjdCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNpcmNsZXM6IFtdLAogICAgICByZXF1ZXN0QW5pSWQ6IG51bGwKICAgIH07CiAgfSwKICBwcm9wczogewogICAgb3B0aW9uczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgb3B0czogZnVuY3Rpb24gb3B0cygpIHsKICAgICAgcmV0dXJuIGNvcHlPYmooe30sIHsKICAgICAgICBjb2xvcjogJ3JnYmEoMjI1LDIyNSwyMjUsMC41KScsCiAgICAgICAgcmFkaXVzOiAxNSwKICAgICAgICBkZW5zZXR5OiAwLjMsCiAgICAgICAgY2xlYXJPZmZzZXQ6IDAuMgogICAgICB9LCB0aGlzLm9wdGlvbnMpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmFuZG9tQ29sb3I6IGZ1bmN0aW9uIHJhbmRvbUNvbG9yKCkgewogICAgICB2YXIgciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NSk7CiAgICAgIHZhciBnID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU1KTsKICAgICAgdmFyIGIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTUpOwogICAgICB2YXIgYWxwaGEgPSBNYXRoLnJhbmRvbSgpLnRvUHJlY2lzaW9uKDIpOwogICAgICB2YXIgcmdiYSA9ICJyZ2JhKCIuY29uY2F0KHIsICIsICIpLmNvbmNhdChnLCAiLCAiKS5jb25jYXQoYiwgIiwgIikuY29uY2F0KGFscGhhLCAiKSIpOwogICAgICByZXR1cm4gcmdiYTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgd2lkdGgsCiAgICAgICAgaGVpZ2h0LAogICAgICAgIGNhbnZhcywKICAgICAgICBjdHgsCiAgICAgICAgY2lyY2xlcyA9IFtdLAogICAgICAgIHNldHRpbmdzID0gdGhpcy5vcHRzLAogICAgICAgIHRoYXQgPSB0aGlzOwogICAgaW5pdENvbnRhaW5lcigpOwoKICAgIGZ1bmN0aW9uIGluaXRDb250YWluZXIoKSB7CiAgICAgIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgY2FudmFzID0gdGhhdC4kcmVmcy5jYW52YXM7CiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoOwogICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0OwogICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKCiAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGggKiBzZXR0aW5ncy5kZW5zZXR5OyB4KyspIHsKICAgICAgICB2YXIgYyA9IG5ldyBDaXJjbGUoKTsKICAgICAgICBjaXJjbGVzLnB1c2goYyk7CiAgICAgIH0KCiAgICAgIGFuaW1hdGUoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhbmltYXRlKCkgewogICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShzZWxmLnJlcXVlc3RBbmlJZCk7CiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7CgogICAgICBmb3IgKHZhciBpIGluIGNpcmNsZXMpIHsKICAgICAgICBjaXJjbGVzW2ldLmRyYXcoKTsKICAgICAgfQoKICAgICAgc2VsZi5yZXF1ZXN0QW5pSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7CiAgICB9CgogICAgZnVuY3Rpb24gQ2lyY2xlKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMucG9zID0ge307CiAgICAgIGluaXQoKTsKCiAgICAgIGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgc2VsZi5wb3MueCA9IE1hdGgucmFuZG9tKCkgKiB3aWR0aDsKICAgICAgICBzZWxmLnBvcy55ID0gaGVpZ2h0ICsgTWF0aC5yYW5kb20oKSAqIDEwMDsKICAgICAgICBzZWxmLmFscGhhID0gMC4xICsgTWF0aC5yYW5kb20oKSAqIHNldHRpbmdzLmNsZWFyT2Zmc2V0OwogICAgICAgIHNlbGYuc2NhbGUgPSAwLjEgKyBNYXRoLnJhbmRvbSgpICogMC4zOwogICAgICAgIHNlbGYuc3BlZWQgPSBNYXRoLnJhbmRvbSgpOwogICAgICAgIHNlbGYuY29sb3IgPSBzZXR0aW5ncy5jb2xvciA9PT0gJ3JhbmRvbScgPyB0aGF0LnJhbmRvbUNvbG9yKCkgOiBzZXR0aW5ncy5jb2xvcjsKICAgICAgfQoKICAgICAgdGhpcy5kcmF3ID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChzZWxmLmFscGhhIDw9IDApIHsKICAgICAgICAgIGluaXQoKTsKICAgICAgICB9CgogICAgICAgIHNlbGYucG9zLnkgLT0gc2VsZi5zcGVlZDsKICAgICAgICBzZWxmLmFscGhhIC09IDAuMDAwNTsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4LmFyYyhzZWxmLnBvcy54LCBzZWxmLnBvcy55LCBzZWxmLnNjYWxlICogc2V0dGluZ3MucmFkaXVzLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpOwogICAgICAgIGN0eC5maWxsU3R5bGUgPSBzZWxmLmNvbG9yOwogICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgY3R4LmNsb3NlUGF0aCgpOwogICAgICB9OwogICAgfQoKICAgIHJlc2l6ZShmdW5jdGlvbiAoKSB7CiAgICAgIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7CiAgICB9KTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJlcXVlc3RBbmlJZCk7CiAgfQp9Ow=="},{"version":3,"sources":["bubbles.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <canvas ref=\"canvas\" style=\"position: absolute;top: 0;left: 0;\"></canvas>\r\n</template>\r\n<script>\r\n  require('comutils/animationFrame')()\r\n  import resize from '../../util/resize'\r\n  const copyObj = require('comutils/copyObj')\r\n\r\n  export default {\r\n    name: 'bubblesEffect',\r\n    data () {\r\n      return {\r\n        circles: [],\r\n        requestAniId: null\r\n      }\r\n    },\r\n    props: {\r\n      options: {\r\n        type: Object,\r\n        default: () => {\r\n          return {}\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      opts () {\r\n        return copyObj({}, {\r\n          color: 'rgba(225,225,225,0.5)',\r\n          radius: 15,\r\n          densety: 0.3,\r\n          clearOffset: 0.2\r\n        }, this.options)\r\n      }\r\n    },\r\n    methods: {\r\n      randomColor () {\r\n        let r = Math.floor(Math.random() * 255)\r\n        let g = Math.floor(Math.random() * 255)\r\n        let b = Math.floor(Math.random() * 255)\r\n        let alpha = Math.random().toPrecision(2)\r\n        let rgba = `rgba(${r}, ${g}, ${b}, ${alpha})`\r\n        return rgba\r\n      }\r\n    },\r\n    mounted () {\r\n      let width, height, canvas, ctx, circles = [], settings = this.opts, that = this\r\n      initContainer()\r\n\r\n      function initContainer () {\r\n        width = window.innerWidth\r\n        height = window.innerHeight\r\n        canvas = that.$refs.canvas\r\n        canvas.width = width\r\n        canvas.height = height\r\n        ctx = canvas.getContext('2d')\r\n        for (let x = 0; x < width * settings.densety; x++) {\r\n          let c = new Circle()\r\n          circles.push(c)\r\n        }\r\n        animate()\r\n      }\r\n\r\n      function animate () {\r\n        cancelAnimationFrame(self.requestAniId)\r\n        ctx.clearRect(0, 0, width, height)\r\n        for (let i in circles) {\r\n          circles[i].draw()\r\n        }\r\n        self.requestAniId = requestAnimationFrame(animate)\r\n      }\r\n\r\n      function Circle () {\r\n        var self = this\r\n        this.pos = {}\r\n        init()\r\n\r\n        function init () {\r\n          self.pos.x = Math.random() * width\r\n          self.pos.y = height + Math.random() * 100\r\n          self.alpha = 0.1 + Math.random() * settings.clearOffset\r\n          self.scale = 0.1 + Math.random() * 0.3\r\n          self.speed = Math.random()\r\n          self.color = settings.color === 'random' ? that.randomColor() : settings.color\r\n        }\r\n\r\n        this.draw = function () {\r\n          if (self.alpha <= 0) {\r\n            init();\r\n          }\r\n          self.pos.y -= self.speed\r\n          self.alpha -= 0.0005\r\n          ctx.beginPath()\r\n          ctx.arc(self.pos.x, self.pos.y, self.scale * settings.radius, 0, 2 * Math.PI, false)\r\n          ctx.fillStyle = self.color\r\n          ctx.fill()\r\n          ctx.closePath()\r\n        };\r\n      }\r\n\r\n      resize(() => {\r\n        width = window.innerWidth;\r\n        height = window.innerHeight;\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n      })\r\n    },\r\n    beforeDestroy () {\r\n      cancelAnimationFrame(this.requestAniId)\r\n    }\r\n  }\r\n</script>"],"sourceRoot":"node_modules/vue-canvas-effect/src/components/bubbles"}]}