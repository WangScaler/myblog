{"remainingRequest":"D:\\mygithub\\mydocs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mygithub\\mydocs\\node_modules\\vuepress-plugin-helper-live2d\\lib\\Live2d.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"D:\\mygithub\\mydocs\\node_modules\\vuepress-plugin-helper-live2d\\lib\\Live2d.vue","mtime":499162500000},{"path":"D:\\mygithub\\mydocs\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mygithub\\mydocs\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\mygithub\\mydocs\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\mygithub\\mydocs\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"D:\\mygithub\\mydocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\mygithub\\mydocs\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovLyBAaW1wb3J0ICcuLi9zdHlsZXMvaGVscGVyLWxpdmUyZC5zdHlsJw0K"},{"version":3,"sources":["Live2d.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA","file":"Live2d.vue","sourceRoot":"node_modules/vuepress-plugin-helper-live2d/lib","sourcesContent":["<template>\r\n  <div id=\"live2d-widget\" class=\"live2d-widget-container\" :style=\"this.generateDivStyle()\">\r\n    <canvas\r\n      v-if=\"config && config.enable\"\r\n      :id=\"this.elementName\"\r\n      :style=\"this.generateCanvasStyle()\"\r\n      :width=\"config.display.width\"\r\n      :height=\"config.display.height\"\r\n      :class=\"this.elementName\"\r\n    ></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* 导入看板娘js */\r\nimport \"../libs/live2d.js\";\r\n\r\nconst path = require(\"path\");\r\n// const live2d_widget = require(\"live2d-widget\");\r\n// const live2d_widget = require(\"../libs/live2d/L2Dwidget.common.js\");\r\n// import { Live2d } from \"../libs/live2d/L2Dwidget.min.js\";\r\n\r\nexport default {\r\n  components: {},\r\n  methods: {\r\n    /** 判断是否是电脑端访问 */\r\n    isPC() {\r\n      let userAgentInfo = navigator.userAgent || \"\";\r\n      const Agents = [\r\n        \"Android\",\r\n        \"iPhone\",\r\n        \"SymbianOS\",\r\n        \"Windows Phone\",\r\n        \"iPad\",\r\n        \"iPod\"\r\n      ];\r\n      let flag = true;\r\n      for (let v = 0; v < Agents.length; v++) {\r\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\r\n          flag = false;\r\n          break;\r\n        }\r\n      }\r\n      return flag;\r\n    },\r\n    // 生成div样式\r\n    generateDivStyle(divStyle = {}) {\r\n      // 生成样式json\r\n      divStyle.position = \"fixed\";\r\n      divStyle[this.config.display.position] =\r\n        this.config.display.hOffset + \"px\";\r\n      divStyle.bottom = this.config.display.vOffset + \"px\";\r\n      divStyle.width = this.config.display.width + \"px\";\r\n      divStyle.height = this.config.display.height + \"px\";\r\n      divStyle[\"z-index\"] = 99999;\r\n      divStyle[\"opacity\"] = this.config.react.opacity;\r\n      divStyle[\"pointer-events\"] = \"none\";\r\n      // this.live2d_log(divStyle)\r\n      return divStyle;\r\n    },\r\n    // 生成canvas样式\r\n    generateCanvasStyle(canvasStyle = {}) {\r\n      // 生成样式json\r\n      canvasStyle.position = \"absolute\";\r\n      canvasStyle[\"left\"] = \"0px\";\r\n      canvasStyle[\"top\"] = \"0px\";\r\n      canvasStyle.width = this.config.display.width + \"px\";\r\n      canvasStyle.height = this.config.display.height + \"px\";\r\n      // canvasStyle[\"z-index\"] = 99999;\r\n      // this.live2d_log(canvasStyle);\r\n      return canvasStyle;\r\n    },\r\n    // 统一输出日志\r\n    live2d_log(str = this.options.pluginName) {\r\n      if (this.options.log) {\r\n        console.log && console.log(str);\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    options() {\r\n      return JSON.parse ? JSON.parse(OPTIONS) : OPTIONS;\r\n    },\r\n    config() {\r\n      return this.options.live2d;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 渲染的DOM元素id\r\n      elementName: \"live2d_canvas\",\r\n      // 特定的模型json文件名称\r\n      modelPathJson: {\r\n        epsilon2_1: \"Epsilon2.1\",\r\n        gf: \"Gantzert_Felixander\",\r\n        \"haru/01\": \"haru01\",\r\n        \"haru/02\": \"haru02\",\r\n        nietzsche: \"nietzche\"\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.live2d_log(\r\n      this.$helperLive2dAppDescription + \" ➡️ \" + this.$helperLive2dAppName + \" ➡️ \" + this.$helperLive2dAppUrl\r\n    );\r\n    /* live2d_widget.L2Dwidget.init({\r\n      model: {\r\n        jsonPath: this.$withBase(\r\n          path.join(\r\n            \"/\",\r\n            this.options.outDirName,\r\n            this.config.model,\r\n            this.config.pluginModelPath,\r\n            this.config.model + \".model.json\"\r\n          )\r\n        )\r\n      }\r\n    }); */\r\n    if (this.config && this.config.enable) {\r\n      // 是否显示看板娘\r\n      let isShow = true;\r\n      // this.live2d_log(this.config);\r\n      if (!this.config.mobile.show && !this.isPC()) {\r\n        // 手机端不显示\r\n        isShow = false;\r\n      }\r\n      // 特定的模型json文件名称\r\n      let modelPath = this.config.model;\r\n      if (this.modelPathJson[this.config.model]) {\r\n        modelPath = this.modelPathJson[this.config.model];\r\n      }\r\n      isShow &&\r\n        loadlive2d &&\r\n        // this.$withBase只对开头为/的路径生效\r\n        // (packages\\@vuepress\\core\\lib\\client\\app.js)\r\n        // this.$site.base\r\n        // console.log(`this.$site.base${this.$site.base}`);\r\n        loadlive2d(\r\n          this.elementName,\r\n          this.$withBase(\r\n            path.join(\r\n              \"/\",\r\n              this.options.outDirName,\r\n              this.config.model,\r\n              this.config.pluginModelPath,\r\n              modelPath + \".model.json\"\r\n            )\r\n          )\r\n        );\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"stylus\">\r\n// @import '../styles/helper-live2d.styl'\r\n</style>"]}]}