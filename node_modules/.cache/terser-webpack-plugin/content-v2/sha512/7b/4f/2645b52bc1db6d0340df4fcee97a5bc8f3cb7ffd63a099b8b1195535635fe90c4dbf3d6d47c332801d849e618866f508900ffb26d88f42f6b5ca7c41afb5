{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{648:function(t,e,r){\"use strict\";r.r(e);var n=r(1),a=Object(n.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[r(\"h1\",{attrs:{id:\"nginx调优\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#nginx调优\"}},[t._v(\"#\")]),t._v(\" Nginx调优\")]),t._v(\" \"),r(\"h2\",{attrs:{id:\"worker-connections\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#worker-connections\"}},[t._v(\"#\")]),t._v(\" worker_connections\")]),t._v(\" \"),r(\"p\",[t._v(\"根据\"),r(\"a\",{attrs:{href:\"https://www.cnblogs.com/tangchuanyang/p/6076725.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"nginx进程连接量\"),r(\"OutboundLink\")],1),t._v(\"所述，系统的最大打开文件数>= worker_connections*worker_process/4，而生产环境配置的ulimit -n 1048576\")]),t._v(\" \"),r(\"p\",[t._v(\"而目前生产环境为2核，然逻辑cpu为4，故假设worker_process为4，所以worker_connections应该略小于 1048576.固设定在655350\")]),t._v(\" \"),r(\"p\",[t._v(\"参考：\")]),t._v(\" \"),r(\"ul\",[r(\"li\",[r(\"a\",{attrs:{href:\"https://blog.csdn.net/caijunsen/article/details/83021086\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"生产环境nginx调优\"),r(\"OutboundLink\")],1)]),t._v(\" \"),r(\"li\",[r(\"a\",{attrs:{href:\"https://www.glxxw2018.com/study/blog/detail/jVfbOwDcXu.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"生产环境配置\"),r(\"OutboundLink\")],1)])]),t._v(\" \"),r(\"h2\",{attrs:{id:\"use-epoll\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#use-epoll\"}},[t._v(\"#\")]),t._v(\" use epoll\")]),t._v(\" \"),r(\"h2\",{attrs:{id:\"max-fails和fail-timeout\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#max-fails和fail-timeout\"}},[t._v(\"#\")]),t._v(\" max_fails和\"),r(\"strong\",[t._v(\"fail_timeout\")])]),t._v(\" \"),r(\"p\",[t._v(\"根据\"),r(\"a\",{attrs:{href:\"https://blog.csdn.net/u011277123/article/details/78869824/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"max_fails和fail_timeout如何设置\"),r(\"OutboundLink\")],1),t._v(\"可设置max_fails=10 fail_timeout=60s\")])])}),[],!1,null,null,null);e.default=a.exports}}]);","extractedComments":[]}