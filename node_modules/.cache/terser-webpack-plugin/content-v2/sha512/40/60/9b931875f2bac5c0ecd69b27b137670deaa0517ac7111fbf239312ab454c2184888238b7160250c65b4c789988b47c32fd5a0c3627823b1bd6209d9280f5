{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{596:function(s,a,e){\"use strict\";e.r(a);var n=e(6),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[e(\"h1\",{attrs:{id:\"percona-server-mongodb\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#percona-server-mongodb\"}},[s._v(\"#\")]),s._v(\" Percona-Server-MongoDB\")]),s._v(\" \"),e(\"h2\",{attrs:{id:\"安装-percona-server-mongodb-32\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装-percona-server-mongodb-32\"}},[s._v(\"#\")]),s._v(\" 安装  \"),e(\"strong\",[s._v(\"Percona-Server-MongoDB-32\")])]),s._v(\" \"),e(\"h3\",{attrs:{id:\"使用docker容器安装percona-server-mongodb-4-2\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#使用docker容器安装percona-server-mongodb-4-2\"}},[s._v(\"#\")]),s._v(\" 使用docker容器安装percona-server-mongodb:4.2\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[s._v(\"docker run -d --name psmdb -v /usr/local/percona-mongo/data:/var/lib/mongo -v /usr/local/percona-mongo/log:/var/log/mongodb/ -p \"),e(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"27019\")]),s._v(\":27019   --restart always percona/percona-server-mongodb:4.2  mongod --dbpath /var/lib/mongo --logpath /var/log/mongodb/mongod.log --logappend --storageEngine wiredTiger --port \"),e(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"27019\")]),s._v(\"\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[s._v(\" docker run -d --name psmdb -p \"),e(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"27019\")]),s._v(\":27017  -v /usr/local/percona-mongo/HotBackup:/HotBackup  -v  /usr/local/percona-mongo/data:/var/lib/mongo -v /usr/local/percona-mongo/log:/var/log/mongo  --restart always percona/percona-server-mongodb:4.2\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"docker exec -ti -u root 3610b5ec6f77  bash\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"p\",[s._v(\"以root用户的身份进入\")]),s._v(\" \"),e(\"h3\",{attrs:{id:\"installing-from-percona-repositories\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#installing-from-percona-repositories\"}},[s._v(\"#\")]),s._v(\" \"),e(\"a\",{attrs:{href:\"https://www.percona.com/doc/percona-server-for-mongodb/LATEST/install/yum.html#id3\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"Installing from Percona Repositories\"),e(\"OutboundLink\")],1)]),s._v(\" \"),e(\"p\",[s._v(\"It is recommended to install \"),e(\"em\",[s._v(\"Percona Server for MongoDB\")]),s._v(\" from official Percona repositories:\")]),s._v(\" \"),e(\"p\",[s._v(\"Run the following commands as root or by using the \"),e(\"strong\",[s._v(\"sudo\")]),s._v(\" command\")]),s._v(\" \"),e(\"ol\",[e(\"li\",[e(\"h4\",{attrs:{id:\"install-the-percona-repository-percona-release\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#install-the-percona-repository-percona-release\"}},[s._v(\"#\")]),s._v(\" Install the Percona repository (\"),e(\"strong\",[s._v(\"percona-release\")]),s._v(\"):\")]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"$ sudo yum install https://repo.percona.com/yum/percona-release-latest.noarch.rpm\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"p\",[s._v(\"Example of Output\")]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"Retrieving https://repo.percona.com/yum/percona-release-latest.noarch.rpm\\nPreparing...                ########################################### [100%]\\n1:percona-release        ########################################### [100%]\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\")])])]),s._v(\" \"),e(\"li\",[e(\"h4\",{attrs:{id:\"enable-the-repository-percona-release-enable-psmdb-42-release\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#enable-the-repository-percona-release-enable-psmdb-42-release\"}},[s._v(\"#\")]),s._v(\" Enable the repository: \"),e(\"code\",[s._v(\"percona-release enable psmdb-42 release\")])])]),s._v(\" \"),e(\"li\",[e(\"h4\",{attrs:{id:\"install-the-packages-yum-install-percona-server-mongodb\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#install-the-packages-yum-install-percona-server-mongodb\"}},[s._v(\"#\")]),s._v(\" Install the packages: \"),e(\"code\",[s._v(\"yum install percona-server-mongodb\")])])])]),s._v(\" \"),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[s._v(\"mongo \"),e(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"47.94\")]),s._v(\".17.121:27019\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[s._v(\"use admin\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[s._v(\"db.createUser\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"user\"')]),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\":\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"admin\"')]),s._v(\", \"),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"pwd\"')]),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\":\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"ziot.2020@QD\"')]),s._v(\", \"),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"roles\"')]),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\":\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"root\"')]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\"\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"p\",[s._v(\"Edit the \"),e(\"code\",[s._v(\"etc/mongod.conf\")]),s._v(\" configuration file to enable the external authentication:\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[s._v(\"security:\\n  authorization: enabled\\n\\nsetParameter:\\n  authenticationMechanisms: PLAIN,SCRAM-SHA-1\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),e(\"br\")])]),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" mongod restart\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v('db.auth(\"admin\",\"ziot.2020@QD\")\\n')])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"p\",[s._v(\"use test\")]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v('db.runCommand({createBackup: 1, backupDir: \"/usr/local/percona-mongo/HotBackup/\"})\\n')])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"p\",[s._v('db.runCommand({createBackup: 1, archive: \"/usr/local/percona-mongo/HotBackup/archive.tar\" })')]),s._v(\" \"),e(\"h1\",{attrs:{id:\"dump备份\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#dump备份\"}},[s._v(\"#\")]),s._v(\" Dump备份\")]),s._v(\" \"),e(\"p\",[s._v(\"使用dump进行备份。\")]),s._v(\" \"),e(\"p\",[s._v(\"编写备份文件dump.sh\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token shebang important\"}},[s._v(\"#!/bin/bash\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# mongodump命令路径\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"DUMP\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/usr/local/mongo/slave/bin/mongodump\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# tar备份包临时备份目录,这个tar包最好定时传到本地存储做备份\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"OUT_DIR\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/usr/local/mongo/dbdump\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 完整备份目录路径\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"TAR_DIR\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/usr/local/mongo/dbdumps\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 获取当前系统时间\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"DATE\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"date\")]),s._v(\" +%Y%m%d%H%M\"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 数据库账号\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"DB_USER\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"admin\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 数据库密码\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"DB_PASS\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"ziot.2020@QD\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# DAYS=15代表删除15天前的备份，即只保留近15天的备份\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"DAYS\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),e(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"15\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 最终保存的数据库备份文件\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"TAR_BAK\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"mongodb_bak_'),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$DATE\")]),s._v('.tar.gz\"')]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$OUT_DIR\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# rm -rf $OUT_DIR/*\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"if\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"!\")]),s._v(\" -d testgrid  \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"then\")]),s._v(\"\\n        \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" -p \"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$OUT_DIR\")]),s._v(\"/\"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$DATE\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"else\")]),s._v(\"\\n        \"),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"dir\")]),s._v(\" exist\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"fi\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 备份全部数据库\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$DUMP\")]),s._v(\" -h \"),e(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"127.0\")]),s._v(\".0.1:27019  -o \"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$OUT_DIR\")]),s._v(\"/\"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$DATE\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 压缩为.tar.gz格式\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tar\")]),s._v(\" -zcvf \"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$TAR_DIR\")]),s._v(\"/\"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$TAR_BAK\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$OUT_DIR\")]),s._v(\"/\"),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$DATE\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 删除15天前的备份文件\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#find $TAR_DIR/ -mtime +$DAYS - delete\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 删除tar备份包10天前的备份文件\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v('#find $OUT_DIR / -mtime + 10 - name \"*.tar.gz\" - exec rm - rf {} \\\\;')]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exit\")]),s._v(\"\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"24\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"25\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"26\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"27\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"28\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"29\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"30\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"31\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"32\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"33\")]),e(\"br\")])]),e(\"p\",[s._v(\"使用定时器定期启动\")]),s._v(\" \"),e(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"crontab\")]),s._v(\" -e\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\")])]),e(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#每天凌晨3点开始执行MongoDB完整备份脚本\")]),s._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),s._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3\")]),s._v(\" * * *  \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sh\")]),s._v(\"  /data/script/mongodbfullbackup.sh    \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\"/dev/null \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e(\"span\",{pre:!0,attrs:{class:\"token file-descriptor important\"}},[s._v(\"2\")]),s._v(\">\")]),e(\"span\",{pre:!0,attrs:{class:\"token file-descriptor important\"}},[s._v(\"&1\")]),s._v(\"\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\")])])])}),[],!1,null,null,null);a.default=t.exports}}]);","extractedComments":[]}