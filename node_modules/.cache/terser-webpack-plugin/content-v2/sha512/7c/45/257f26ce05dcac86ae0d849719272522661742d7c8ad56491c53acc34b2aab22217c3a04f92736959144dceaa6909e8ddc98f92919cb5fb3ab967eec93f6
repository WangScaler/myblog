{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{648:function(s,a,t){\"use strict\";t.r(a);var e=t(1),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[t(\"h1\",{attrs:{id:\"selinux\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#selinux\"}},[s._v(\"#\")]),s._v(\" Selinux\")]),s._v(\" \"),t(\"p\",[s._v(\"新安装的centos8，nginx无权限监听其他端口，，也无法负载均衡。\")]),s._v(\" \"),t(\"p\",[s._v(\"nginx监听8181端口没有权限\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" semanage port -a -t http_port_t  -p tcp \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"8181\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"nginx负载均衡后台接口没有权限\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"setsebool -P httpd_can_network_connect \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"nginx无法使用8181端口，显示已被定义（8181已经被定义到 intermapper_port_t）\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" semanage port -m -t http_port_t  -p tcp \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"8181\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"显示每个里面已经添加的端口\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"semanage port -l \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"grep\")]),s._v(\" httpd_can_network_connect\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"mongo问题\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#mongo问题\"}},[s._v(\"#\")]),s._v(\" mongo问题\")]),s._v(\" \"),t(\"p\",[s._v(\"mongo监听了27018，然而配置了副本集之后，日志里一直报错Mongodb replica set permission denied，程序大批量写入insert_many还有使用事务的语句无法执行，最后发现还是selinux的问题。解决方案如下\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-js line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[t(\"code\",[s._v(\"semanage port \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"a \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"t mongod_port_t \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"p tcp \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"27018\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"命令解释\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#命令解释\"}},[s._v(\"#\")]),s._v(\" 命令解释\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"-m为修改\")]),s._v(\" \"),t(\"li\",[s._v(\"-a添加\")]),s._v(\" \"),t(\"li\",[s._v(\"-d删除\")])])])}),[],!1,null,null,null);a.default=n.exports}}]);","extractedComments":[]}