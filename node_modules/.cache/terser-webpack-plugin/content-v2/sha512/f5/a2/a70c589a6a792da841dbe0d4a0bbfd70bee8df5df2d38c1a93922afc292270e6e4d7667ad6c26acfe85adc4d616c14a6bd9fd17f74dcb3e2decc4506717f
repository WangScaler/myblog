{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{498:function(t,v,e){\"use strict\";e.r(v);var r=e(4),_=Object(r.a)({},(function(){var t=this,v=t.$createElement,e=t._self._c||v;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[e(\"h1\",{attrs:{id:\"接口规范\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#接口规范\"}},[t._v(\"#\")]),t._v(\" 接口规范\")]),t._v(\" \"),e(\"h2\",{attrs:{id:\"一、产品类-api-v1-product\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、产品类-api-v1-product\"}},[t._v(\"#\")]),t._v(\" 一、产品类（/api/v1/product/)\")]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"th\",[e(\"strong\",[t._v(\"/api/v1/product\")]),t._v(\" \"),e(\"strong\",[t._v(\"/add\")])]),t._v(\" \"),e(\"th\",[e(\"strong\",[t._v(\"添加产品\")])])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/product\")]),t._v(\" \"),e(\"strong\",[t._v(\"/query?page=1&limit=2\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"查询产品列表\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/product/delete\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"删除产品（下属固件和功能)\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/product/search?value=1&page=1&limit=1\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"搜索产品\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/product/query/one?psn=1\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"获取单个产品\")])])])])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"二、设备类-api-v1-device\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#二、设备类-api-v1-device\"}},[t._v(\"#\")]),t._v(\" 二、设备类（\"),e(\"strong\",[t._v(\"/api/v1/device/\")]),t._v(\"）\")]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"th\",[e(\"strong\",[t._v(\"/api/v1/device/add\")])]),t._v(\" \"),e(\"th\",[e(\"strong\",[t._v(\"添加设备\")])])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/device/query/{psn}?status=all&page=1&limit=2\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"查询设备列表\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/device/delete\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"删除设备\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/device/conn\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"设备上线状态\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/device/disconn\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"设备下线状态\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/device/search?psn=1&value=1&page=1&limit=1\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"搜索设备\")])])])])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"三、固件类-api-v1-device-firmware\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三、固件类-api-v1-device-firmware\"}},[t._v(\"#\")]),t._v(\" 三、固件类（/api/v1/device/firmware/）\")]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"th\",[e(\"strong\",[t._v(\"/api/v1/firmware/add\")])]),t._v(\" \"),e(\"th\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"上传固件\")])])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/firmware/query/{psn}?page=1&limit=2\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"固件列表\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/firmware/delete\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"删除固件\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/firmware/publish\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"固件信息发布\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/firmware/download/{filename}\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"下载固件\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/firmware/search?psn=1&value=1&page=1&limit=1\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"搜索固件\")])])])])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"四、属性类-api-v1-propertie\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#四、属性类-api-v1-propertie\"}},[t._v(\"#\")]),t._v(\" 四、属性类（/api/v1/propertie/）\")]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"th\",[e(\"strong\",[t._v(\"/api/v1/property/addy\")])]),t._v(\" \"),e(\"th\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"添加属性\")])])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",[e(\"u\",[e(\"strong\",[t._v(\"Get\")])])]),t._v(\" \"),e(\"td\",[e(\"u\",[t._v(\"***/api/v1/property/query/?psn=1&page=1&limit=2***\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"属性列表\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/property/delete\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"删除属性\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/property/search?value=1&page=1&limit=1\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"搜索属性\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/property/update\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"更新属性\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"u\",[e(\"strong\",[t._v(\"Get\")])])]),t._v(\" \"),e(\"td\",[e(\"u\",[t._v(\"***/api/v1/property/query/one?id=1***\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"获取单个属性\")])])])])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"五、数据类-api-v1-data\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#五、数据类-api-v1-data\"}},[t._v(\"#\")]),t._v(\" 五、数据类（/api/v1/data/）\")]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"th\",[e(\"strong\",[t._v(\"/api/v1/data/minute\")])]),t._v(\" \"),e(\"th\",[e(\"strong\",[t._v(\"分钟数据入库\")])])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/data/hour\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"小时数据入库\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/data/realtime/minute?psn=1&dsn=2\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"实时分钟数据\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/data/realtime/hour?psn=1&dsn=2\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"实时小时数据\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/data/realtime/day?psn=1&dsn=2\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"实时天数据\")])])])])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"六、用户类-api-v1-user\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#六、用户类-api-v1-user\"}},[t._v(\"#\")]),t._v(\" 六、用户类（/api/v1/user/）\")]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"th\",[e(\"strong\",[t._v(\"/api/v1/user/login\")])]),t._v(\" \"),e(\"th\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"登录\")])])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/user/query/all\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"获取用户列表\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/user/query/one?id=1\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"获取单个用户信息\")])])])])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"七、工具类-api-v1-util\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#七、工具类-api-v1-util\"}},[t._v(\"#\")]),t._v(\" 七、工具类（/api/v1/util/）\")]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"th\",[e(\"strong\",[t._v(\"/api/v1/util/status\")])]),t._v(\" \"),e(\"th\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"状态码信息\")])])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/util/topic\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"主题规则\")])])])])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"八、数据库数据代码\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#八、数据库数据代码\"}},[t._v(\"#\")]),t._v(\" 八、数据库数据代码\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"device\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#device\"}},[t._v(\"#\")]),t._v(\" device\")]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",[t._v(\"state\")]),t._v(\" \"),e(\"th\",[t._v(\"describe\")])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",[t._v(\"0\")]),t._v(\" \"),e(\"td\",[t._v(\"离线\")])]),t._v(\" \"),e(\"tr\",[e(\"td\",[t._v(\"1\")]),t._v(\" \"),e(\"td\",[t._v(\"在线\")])]),t._v(\" \"),e(\"tr\",[e(\"td\",[t._v(\"2\")]),t._v(\" \"),e(\"td\",[t._v(\"禁用\")])])])]),t._v(\" \"),e(\"h1\",{attrs:{id:\"新接口\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#新接口\"}},[t._v(\"#\")]),t._v(\" 新接口\")]),t._v(\" \"),e(\"h2\",{attrs:{id:\"一、菜单类-api-v1-menu-此权限仅归超管使用\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、菜单类-api-v1-menu-此权限仅归超管使用\"}},[t._v(\"#\")]),t._v(\" 一、菜单类（/api/v1/menu/）\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t此权限仅归超管使用\")]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"th\",[t._v(\"/api/v1/menu/add\")]),t._v(\" \"),e(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"增加菜单\")])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Get\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/menu/query\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"查询菜单\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/menu/delete\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"删除菜单\")])])]),t._v(\" \"),e(\"tr\",[e(\"td\",[e(\"strong\",[t._v(\"Post\")])]),t._v(\" \"),e(\"td\",[e(\"strong\",[t._v(\"/api/v1/menu/update\")])]),t._v(\" \"),e(\"td\",{staticStyle:{\"text-align\":\"center\"}},[e(\"strong\",[t._v(\"修改菜单\")])])])])]),t._v(\" \"),e(\"ul\",[e(\"li\",[e(\"p\",[t._v(\"增加菜单:将前端功能标签的ID入库，名字为功能名。\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"request：\\n\"),e(\"ul\",[e(\"li\",[t._v('body:{\"menuid\":”ID”,\"menuname\":”产品”}')]),t._v(\" \"),e(\"li\",[t._v(\"head:token\")])])]),t._v(\" \"),e(\"li\",[t._v(\"response:{“code”:0,“msg”:”success”}\")])])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v(\"查询菜单：将菜单返回，供增加权限时使用。返回所有菜单\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"request:\\n\"),e(\"ul\",[e(\"li\",[t._v(\"head:token\")])])]),t._v(\" \"),e(\"li\",[t._v('response：{“code”:0,\"msg\":\"success\",\"data\":[{\"_id\":\"cd1\",menuid\":\"product\",\"menuname\":\"产品\"}，{\"_id\":\"cd2\",\"menuid\":\"device\",\"menuname\":\"设备\"}]')])])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v(\"删除菜单：将原有菜单删除，需删除已绑定的权限。（角色的权限，在使用角色获取权限的时候删除）\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[e(\"p\",[t._v('request\":')]),t._v(\" \"),e(\"ul\",[e(\"li\",[e(\"p\",[t._v('body:{\"_id\":\"cd1\"}')])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v(\"head:token\")])])])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v('response:{\"code\":0,\"msg\":\"success\"}')])])])]),t._v(\" \"),e(\"li\",[e(\"p\",[t._v(\"修改菜单：\")])])])])}),[],!1,null,null,null);v.default=_.exports}}]);","extractedComments":[]}