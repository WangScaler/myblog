{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{575:function(s,a,e){s.exports=e.p+\"assets/img/docker1.618e009a.png\"},576:function(s,a,e){s.exports=e.p+\"assets/img/docker2.1d5eaae2.png\"},577:function(s,a,e){s.exports=e.p+\"assets/img/docker3.e26d29c4.png\"},578:function(s,a,e){s.exports=e.p+\"assets/img/docker4.c50e0c5b.png\"},579:function(s,a,e){s.exports=e.p+\"assets/img/docker5.6cc0c662.png\"},580:function(s,a){s.exports=\"data:image/png;base64,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\"},581:function(s,a,e){s.exports=e.p+\"assets/img/docker7.34f0bfdf.png\"},640:function(s,a,e){\"use strict\";e.r(a);var t=e(1),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[t(\"p\",[s._v(\"[TOC]\")]),s._v(\" \"),t(\"h1\",{attrs:{id:\"docker学习之路\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#docker学习之路\"}},[s._v(\"#\")]),s._v(\" Docker学习之路\")]),s._v(\" \"),t(\"h2\",{attrs:{id:\"centos8上安装docker\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#centos8上安装docker\"}},[s._v(\"#\")]),s._v(\" Centos8上安装Docker\")]),s._v(\" \"),t(\"h3\",{attrs:{id:\"docker版本要求\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#docker版本要求\"}},[s._v(\"#\")]),s._v(\" Docker版本要求\")]),s._v(\" \"),t(\"p\",[s._v(\"1、要求 CentOs 系统的内核版本高于 3.10，可通过如下指令查看版本\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"uname\")]),s._v(\" -r\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"更新yum\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#更新yum\"}},[s._v(\"#\")]),s._v(\" 更新yum\")]),s._v(\" \"),t(\"p\",[s._v(\"安装docker ce即社区免费版，先安装必要的软件包，安装yum-utils，它提供一个yum-config-manager单元，同时安装的device-mapper-persistent-data和lvm2用于储存设备映射（devicemapper）必须的两个软件包。\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" yum update\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" yum \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" -y yum-utils device-mapper-persistent-data lvm2   \\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"p\",[s._v(\"紧接着配置一个稳定（stable）的仓库 ，仓库配置会保存到/etc/yum.repos.d/docker-ce.repo文件中。此处我们使用阿里云。\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"更新Yum安装的相关Docke软件包\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" yum makecache fast\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#会出错\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"出现如下错误：\")]),s._v(\" \"),t(\"p\",[s._v(\"yum makecache: error: argument timer: invalid choice: ‘fast’ (choose from ‘timer’)\")]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:e(575),alt:\"image-20200716140235904\"}})]),s._v(\" \"),t(\"p\",[s._v(\"更新索引的时候出错，即centos8没有该参数，解决办法为：去掉fast参数\")]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:e(576),alt:\"image-20200716140315300\"}})]),s._v(\" \"),t(\"h3\",{attrs:{id:\"查看仓库版本-并指定版本安装\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#查看仓库版本-并指定版本安装\"}},[s._v(\"#\")]),s._v(\" 查看仓库版本，并指定版本安装\")]),s._v(\" \"),t(\"p\",[s._v(\"查看版本\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"yum list docker-ce --showduplicates \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sort\")]),s._v(\" -r\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"安装\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"yum \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" docker-ce-3:19.03.9-3.el7.x86_64\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#会出错\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"出现如下错误：\\nProblem: package docker-ce-3:18.09.9-3.el7.x86_64 requires containerd.io >= 1.2.2-3, but none of the providers can be installed\")]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:e(577),alt:\"image-20200716140735067\"}})]),s._v(\" \"),t(\"p\",[s._v(\"根据提示，需要containerd.io的版本 >= 1.2.2-3，操作如下\")]),s._v(\" \"),t(\"p\",[s._v(\"（1）安装wget指令\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"yum \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"（2）获取rpm包\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" https://download.docker.com/linux/centos/7/x86_64/edge/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"（3）升级containerd.io（安装rpm包）\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"yum -y \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" containerd.io-1.2.6-3.3.el7.x86_64.rpm\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"（4）重新安装docker-ce\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"yum \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" docker-ce-3:19.03.9-3.el7.x86_64\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[t(\"img\",{attrs:{src:e(578),alt:\"image-20200716141504940\"}})]),s._v(\" \"),t(\"h3\",{attrs:{id:\"启动docker\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#启动docker\"}},[s._v(\"#\")]),s._v(\" 启动docker\")]),s._v(\" \"),t(\"p\",[s._v(\"（1）设置开机自启动\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" systemctl start docker\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" systemctl \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"enable\")]),s._v(\" docker\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"p\",[s._v(\"（2）启动\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" systemctl start docker\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"（3）验证\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker version\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[t(\"img\",{attrs:{src:e(579),alt:\"image-20200716141906100\"}})]),s._v(\" \"),t(\"p\",[s._v(\"说明安装成功\")]),s._v(\" \"),t(\"p\",[s._v(\"或者\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" docker \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ps\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[t(\"img\",{attrs:{src:e(580),alt:\"image-20200716142029027\"}})]),s._v(\" \"),t(\"p\",[s._v(\"说明安装成功\")]),s._v(\" \"),t(\"p\",[s._v(\"（4）查看docker运行状态\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"systemctl status docker\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[t(\"img\",{attrs:{src:e(581),alt:\"image-20200716142149912\"}})]),s._v(\" \"),t(\"h2\",{attrs:{id:\"docker常用的命令\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#docker常用的命令\"}},[s._v(\"#\")]),s._v(\" Docker常用的命令\")]),s._v(\" \"),t(\"h3\",{attrs:{id:\"_1、拉取镜像\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1、拉取镜像\"}},[s._v(\"#\")]),s._v(\" 1、拉取镜像\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker pull ubuntu\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_2、首次启动镜像\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2、首次启动镜像\"}},[s._v(\"#\")]),s._v(\" 2、首次启动镜像\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker run -it --name ubuntu-test ubuntu /bin/bash\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"参数说明：\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[t(\"strong\",[s._v(\"-i\")]),s._v(\": 交互式操作。\")]),s._v(\" \"),t(\"li\",[t(\"strong\",[s._v(\"-t\")]),s._v(\": 终端。\")]),s._v(\" \"),t(\"li\",[t(\"strong\",[s._v(\"-p\")]),s._v(\":端口。\")]),s._v(\" \"),t(\"li\",[t(\"strong\",[s._v(\"-ip\")]),s._v(\":指定IP。\")]),s._v(\" \"),t(\"li\",[t(\"strong\",[s._v(\"-v\")]),s._v(\":数据卷。例如：-v /data:/data:ro。ro为容器只读。\")]),s._v(\" \"),t(\"li\",[t(\"strong\",[s._v(\"--volumes-from\")]),s._v(\":数据卷来自于已有的容器。\")]),s._v(\" \"),t(\"li\",[t(\"strong\",[s._v(\"-name\")]),s._v(\":容器名。\")]),s._v(\" \"),t(\"li\",[t(\"strong\",[s._v(\"ubuntu\")]),s._v(\": ubuntu 镜像。\")]),s._v(\" \"),t(\"li\",[t(\"strong\",[s._v(\"/bin/bash\")]),s._v(\"：放在镜像名后的是命令，这里我们希望有个交互式 Shell，因此用的是 /bin/bash。\")])]),s._v(\" \"),t(\"h3\",{attrs:{id:\"_3、启动已存在容器\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3、启动已存在容器\"}},[s._v(\"#\")]),s._v(\" 3、启动已存在容器\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker start \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"<\")]),s._v(\"容器 ID/Name\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\"\\ndocker restart 容器id1 \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"容器id2\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"..\")]),s._v(\".\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"  \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#重启\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_4、运行的docker容器列表\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4、运行的docker容器列表\"}},[s._v(\"#\")]),s._v(\" 4、运行的docker容器列表\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ps\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ps\")]),s._v(\" –a\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_5、停止容器\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5、停止容器\"}},[s._v(\"#\")]),s._v(\" 5、停止容器\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker stop \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"<\")]),s._v(\"容器 ID/Name\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_6、进入容器\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6、进入容器\"}},[s._v(\"#\")]),s._v(\" 6、进入容器\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exec\")]),s._v(\" -it name /bin/bash\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"从这个容器退出，不会导致容器的停止，推荐大家使用\")]),s._v(\" \"),t(\"h3\",{attrs:{id:\"_7、查看容器的某些进程pid\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7、查看容器的某些进程pid\"}},[s._v(\"#\")]),s._v(\" 7、查看容器的某些进程PID\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"doker \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"top\")]),s._v(\" name\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_8、删除容器\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8、删除容器\"}},[s._v(\"#\")]),s._v(\" 8、删除容器\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"rm\")]),s._v(\" name\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_9、镜像列表\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_9、镜像列表\"}},[s._v(\"#\")]),s._v(\" 9、镜像列表\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker images\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_10、启动所有容器\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_10、启动所有容器\"}},[s._v(\"#\")]),s._v(\" 10、启动所有容器\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker start \"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),s._v(\"docker \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ps\")]),s._v(\" -a -q\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_11、复制文件到容器\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_11、复制文件到容器\"}},[s._v(\"#\")]),s._v(\" 11、复制文件到容器\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"cp\")]),s._v(\" sentinel.conf redis-master:/usr/local/redis\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_12、创建容器时指定ip\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_12、创建容器时指定ip\"}},[s._v(\"#\")]),s._v(\" 12、创建容器时指定IP\")]),s._v(\" \"),t(\"p\",[s._v(\"Docker创建容器时默认采用bridge网络，自行分配ip，不允许自己指定。\")]),s._v(\" \"),t(\"p\",[s._v(\"在实际部署中，我们需要指定容器ip，不允许其自行分配ip，尤其是搭建集群时，固定ip是必须的。\")]),s._v(\" \"),t(\"p\",[s._v(\"我们可以创建自己的bridge网络 ： mynet，创建容器的时候指定网络为mynet并指定ip即可。\")]),s._v(\" \"),t(\"h4\",{attrs:{id:\"查看网络模式\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#查看网络模式\"}},[s._v(\"#\")]),s._v(\" 查看网络模式\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker network \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ls\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h4\",{attrs:{id:\"创建一个新的bridge网络\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建一个新的bridge网络\"}},[s._v(\"#\")]),s._v(\" 创建一个新的bridge网络\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker network create --driver bridge --subnet\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"172.19\")]),s._v(\".0.0/16 --gateway\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"172.19\")]),s._v(\".0.1 dockercompose\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h4\",{attrs:{id:\"查看网络信息\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#查看网络信息\"}},[s._v(\"#\")]),s._v(\" 查看网络信息\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker network inspect dockercompose\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h4\",{attrs:{id:\"创建容器并指定容器ip\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建容器并指定容器ip\"}},[s._v(\"#\")]),s._v(\" 创建容器并指定容器ip\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker run -it --name sentinel1 --network\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"dockercompose --ip \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"172.19\")]),s._v(\".0.6 -v /data/docker_redis/sentinel/sentinel-slave1.conf:/usr/local/redis/sentinel.conf -d -p \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"26380\")]),s._v(\":26379 redis /bin/bash\\n\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_13、创建快照\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_13、创建快照\"}},[s._v(\"#\")]),s._v(\" 13、创建快照\")]),s._v(\" \"),t(\"h4\",{attrs:{id:\"查看现有容器\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#查看现有容器\"}},[s._v(\"#\")]),s._v(\" 查看现有容器\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker ps/docker \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ps\")]),s._v(\" -a\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h4\",{attrs:{id:\"创建容器快照\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建容器快照\"}},[s._v(\"#\")]),s._v(\" 创建容器快照\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"export\")]),s._v(\" ID \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\" test.tar\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h4\",{attrs:{id:\"导入并验证\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#导入并验证\"}},[s._v(\"#\")]),s._v(\" 导入并验证\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"cat\")]),s._v(\" 快照.tar \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" docker \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"import\")]),s._v(\" - centos:latest\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker run -it ID\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"镜像\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" /bin/bash\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_14、查看数据卷相关信息\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_14、查看数据卷相关信息\"}},[s._v(\"#\")]),s._v(\" 14、查看数据卷相关信息\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"sdocker inspect -f \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\".Volumes\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\" 容器名\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"构建容器-nginx为例\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#构建容器-nginx为例\"}},[s._v(\"#\")]),s._v(\" 构建容器（nginx为例）\")]),s._v(\" \"),t(\"h4\",{attrs:{id:\"一、手动构建\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、手动构建\"}},[s._v(\"#\")]),s._v(\" 一、手动构建\")]),s._v(\" \"),t(\"h5\",{attrs:{id:\"_1、拉取镜像-2\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1、拉取镜像-2\"}},[s._v(\"#\")]),s._v(\" 1、拉取镜像\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker pull centos\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"_2、启动镜像\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2、启动镜像\"}},[s._v(\"#\")]),s._v(\" 2、启动镜像\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker run --name nginx-man -it centos\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"_3、安装相关依赖包\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3、安装相关依赖包\"}},[s._v(\"#\")]),s._v(\" 3、安装相关依赖包\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"yum \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" -y \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" gcc gcc-c++ \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\" openssl-devel\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"_4、安装nginx依赖\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4、安装nginx依赖\"}},[s._v(\"#\")]),s._v(\" 4、安装nginx依赖\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" http://nginx.org/download/nginx-1.9.3.tar.gz\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mv\")]),s._v(\" nginx-1.9.3.tar.gz /usr/local/data/nginx-1.9.3.tar.gz\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /usr/local/data\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"_5、解压\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5、解压\"}},[s._v(\"#\")]),s._v(\" 5、解压\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tar\")]),s._v(\" -zxf nginx-1.9.3.tar.gz\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"_6、创建www用户\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6、创建www用户\"}},[s._v(\"#\")]),s._v(\" 6、创建www用户\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"useradd\")]),s._v(\" -s /sbin/nologin -M www\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"_7、启动nginx\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7、启动nginx\"}},[s._v(\"#\")]),s._v(\" 7、启动nginx\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"./configure --prefix\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/usr/local/data/nginx --user\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"www --group\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"www --with-http_ssl_moudle --with-http_stub_status_module --with-pcre\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/usr/local/src/pcre-8.37\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"_8、make\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_8、make\"}},[s._v(\"#\")]),s._v(\" 8、make\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"_9、配置启动容器直接运行nginx\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_9、配置启动容器直接运行nginx\"}},[s._v(\"#\")]),s._v(\" 9、配置启动容器直接运行nginx\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" /usr/local/data/nginx/conf/nginx.conf\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#添加,让其在前台运行\")]),s._v(\"\\ndaemon off\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"_10、验证\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_10、验证\"}},[s._v(\"#\")]),s._v(\" 10、验证\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exit\")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#推出容器\")]),s._v(\"\\ndocker commit -m \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"my nginx\"')]),s._v(\" 容器ID my-nginx1:vl\\ndoker images\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#发现已经有了新镜像\")]),s._v(\"\\ndocker run -it -p \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"92\")]),s._v(\":80 my-nginx1:v1 /usr/local/data/nginx/sbin/nginx\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#可以循环添加想要的容器数量\")]),s._v(\"\\n在浏览器打开IP:92\\n可以看到nginx\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"_11、容器自启\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_11、容器自启\"}},[s._v(\"#\")]),s._v(\" 11、容器自启\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker container update --restart\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"always 容器名\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h4\",{attrs:{id:\"二、dockerfile自动构建\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#二、dockerfile自动构建\"}},[s._v(\"#\")]),s._v(\" 二、Dockerfile自动构建\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"基础镜像信息\")]),s._v(\" \"),t(\"li\",[s._v(\"维护者信息\")]),s._v(\" \"),t(\"li\",[s._v(\"镜像操作命令\")]),s._v(\" \"),t(\"li\",[s._v(\"容器启动时执行指令\")])]),s._v(\" \"),t(\"h5\",{attrs:{id:\"创建文件\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建文件\"}},[s._v(\"#\")]),s._v(\" 创建文件\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" /opt/docker-file/nginx\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /opt/docker-file/nginx\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"pwd\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.37.tar.gz\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" http://nginx.org/download/nginx-1.9.3.tar.gz\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" Dockerfile\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\")])]),t(\"p\",[s._v(\"内容如下：\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-dockerfile line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-dockerfile\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#This is My first Dockerfile\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#base images镜像\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"From\")]),s._v(\" centos\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#MAINTTAINER维护者\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"MAINTAINER\")]),s._v(\" WangScaler\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#ADD 往容器里放东西\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"ADD\")]),s._v(\" pcre\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"8.37.tar.gz /usr/lcoal/src\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"ADD\")]),s._v(\" nginx\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"1.9.3.tar.gz /usr/local/src\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#RUN 执行指令\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"RUN\")]),s._v(\" yum install wget gcc gcc\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"c++ make openssl\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"devel\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"RUN\")]),s._v(\" useradd \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"s /sbin/nologin \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"M www\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#WORKDIR\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"WORKDIR\")]),s._v(\" /usr/local/src/nginx\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"1.9.3\\nRUN./configure \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"prefix=/usr/local/nginx \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"user=www \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"group=www \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"with\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"http_ssl_moudle \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"with\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"http_stub_status_module \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"with\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"pcre=/usr/local/src/pcre\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"8.37\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"RUN\")]),s._v(\" echo \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"daemon off;\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\">\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\">\")]),s._v(\"/usr/local/src/nginx/conf/nginx.conf\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#EXPOSE映射端口\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"ENV\")]),s._v(\" PATH /usr/local/nginx/sbin\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"$PATH\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"EXPOSE\")]),s._v(\" 80\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),t(\"br\")])]),t(\"p\",[s._v(\"注意：ADD的文件必须和Dockerfile在同一文件夹下\")]),s._v(\" \"),t(\"h5\",{attrs:{id:\"运行\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#运行\"}},[s._v(\"#\")]),s._v(\" 运行\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker build -t nginx-file:v1 /opt/dockerfile/nginx/\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"docker image 查看\")]),s._v(\" \"),t(\"h4\",{attrs:{id:\"三、使用dockerfile创建python容器\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三、使用dockerfile创建python容器\"}},[s._v(\"#\")]),s._v(\" 三、使用Dockerfile创建python容器\")]),s._v(\" \"),t(\"h5\",{attrs:{id:\"编写应用所需要的依赖\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#编写应用所需要的依赖\"}},[s._v(\"#\")]),s._v(\" 编写应用所需要的依赖\")]),s._v(\" \"),t(\"p\",[s._v(\"requirements.txt内容如下\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" requirements.txt\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"div\",{staticClass:\"language-python line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[t(\"code\",[s._v(\"WTForms\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2.2\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\".1\")]),s._v(\"\\nWTForms\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"JSON\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0.3\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\".3\")]),s._v(\"\\nwtforms\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"tornado\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0.0\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\".2\")]),s._v(\"\\nPyJWT\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1.7\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\".1\")]),s._v(\"\\nredis\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3.5\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\".1\")]),s._v(\"\\nmotor\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2.1\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\".0\")]),s._v(\"\\ntornado\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"6.0\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\".3\")]),s._v(\"\\ntornado\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"swagger\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1.2\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\".4\")]),s._v(\"\\npytz\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2020.1\")]),s._v(\"\\npaho\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"-\")]),s._v(\"mqtt\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1.5\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\".0\")]),s._v(\"\\nrequests\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2.22\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\".0\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"编写dockerfile\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#编写dockerfile\"}},[s._v(\"#\")]),s._v(\" 编写Dockerfile\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" Dockerfile\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#This is My first Dockerfile\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#base images镜像\")]),s._v(\"\\nFROM python:3.7.4\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#MAINTTAINER维护者\")]),s._v(\"\\nMAINTAINER WangScaler\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#ADD 往容器里放东西\")]),s._v(\"\\nADD requirements.txt /usr/local/python-app/requirements.txt\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#RUN 执行指令\")]),s._v(\"\\nWORKDIR /usr/local/python-app\\nRUN pip \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" -r requirements.txt\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#EXPOSE映射端口\")]),s._v(\"\\nEXPOSE \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"8090\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"创建镜像\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建镜像\"}},[s._v(\"#\")]),s._v(\" 创建镜像\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker build -t python-apps \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\".\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"查看网络模式-2\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#查看网络模式-2\"}},[s._v(\"#\")]),s._v(\" 查看网络模式\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker network \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ls\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"创建一个新的bridge网络-2\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建一个新的bridge网络-2\"}},[s._v(\"#\")]),s._v(\" 创建一个新的bridge网络\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker network create --driver bridge --subnet\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"172.19\")]),s._v(\".0.0/16 --gateway\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"172.19\")]),s._v(\".0.1 dockercompose\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"查看网络信息-2\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#查看网络信息-2\"}},[s._v(\"#\")]),s._v(\" 查看网络信息\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker network inspect dockercompose\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"创建容器并指定容器ip-2\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建容器并指定容器ip-2\"}},[s._v(\"#\")]),s._v(\" 创建容器并指定容器ip\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\" docker run -it --name python-app --network\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"dockercompose --ip \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"172.19\")]),s._v(\".0.2 -v /usr/local/python-app:/usr/local/python-app -d -p \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"8090\")]),s._v(\":8090 python-apps /bin/bash\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h5\",{attrs:{id:\"进入容器\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#进入容器\"}},[s._v(\"#\")]),s._v(\" 进入容器\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[s._v(\"docker \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exec\")]),s._v(\" -it python-app \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"bash\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h4\",{attrs:{id:\"四、dockerfile创建python项目镜像\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#四、dockerfile创建python项目镜像\"}},[s._v(\"#\")]),s._v(\" 四、Dockerfile创建python项目镜像\")]),s._v(\" \"),t(\"h5\",{attrs:{id:\"编写dockerfile-2\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#编写dockerfile-2\"}},[s._v(\"#\")]),s._v(\" 编写Dockerfile\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" Dockerfile\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 基于的基础镜像\")]),s._v(\"\\nFROM python:3.6.8\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 维护者信息\")]),s._v(\"\\nMAINTAINER WangScaler@163.com\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 代码添加到code文件夹\")]),s._v(\"\\nADD / /ssm\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 设置code文件夹是工作目录\")]),s._v(\"\\nWORKDIR /ssm\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 安装支持\")]),s._v(\"\\nRUN \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /ssm \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ls\")]),s._v(\"\\nRUN \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ls\")]),s._v(\"\\nRUN pip \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" --user -r /ziot/requirements.txt -i  https://pypi.doubanio.com/simple/\\nRUN python CreateLicense.py 02:42:ac:22:00:02\\nRUN python setup.py\\nRUN python -m compileall -b build/\\nRUN \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"find\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\".\")]),s._v(\" -name \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"*.py\"')]),s._v(\" -type f -print -exec \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"rm\")]),s._v(\" -rf \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\nCMD \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"python\"')]),s._v(\", \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"build/server.pyc\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),t(\"br\")])]),t(\"p\",[s._v(\"Each instruction creates one layer:\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"FROM\")]),s._v(\" creates a layer from the \"),t(\"code\",[s._v(\"ubuntu:18.04\")]),s._v(\" Docker image.\")]),s._v(\" \"),t(\"li\",[t(\"code\",[s._v(\"COPY\")]),s._v(\" adds files from your Docker client’s current directory.\")]),s._v(\" \"),t(\"li\",[t(\"code\",[s._v(\"RUN\")]),s._v(\" builds your application with \"),t(\"code\",[s._v(\"make\")]),s._v(\".\")]),s._v(\" \"),t(\"li\",[t(\"code\",[s._v(\"CMD\")]),s._v(\" specifies what command to run within the container.\")])])])}),[],!1,null,null,null);a.default=n.exports}}]);","extractedComments":[]}